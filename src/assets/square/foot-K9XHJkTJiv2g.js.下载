(function(e){function t(e){return e&&e.document&&e.window==e}function n(e,r){if(t(e)){if(e=e.document.documentElement,/^(width|height)$/.test(r))return e[f("client-"+r)]||this[f("inner-"+r)]}else 9==e.nodeType&&(e=e.documentElement);if(P&&/^(width|height)$/.test(r))return e[f("offset-"+r)];if(P<9&&"opacity"==r){var i=n(e,"filter")||"",o=/opacity=(\d+)/;return o.test(i)?RegExp.$1:1}if(ce.test(r)){var a=f(Y),s=e.style[a];return s&&new RegExp(r+"\\s*\\((.*?)\\)").test(s)?RegExp.$1:n(e,a)}return e.currentStyle?e.currentStyle[r]||"":window.getComputedStyle?window.getComputedStyle(e,null)[r]:""}function r(e,t,i){if((d(t)||(t=f(t),d(t)))&&x(i)&&(!isNaN(i)||"number"!=typeof i)){if(P<9&&"opacity"==t&&T(i)){var o=n(e,"filter")||"",a=/alpha\([^\)]*\)/;return i="alpha(opacity="+Math.round(100*parseFloat(isNaN(i)?1:i))+")",void(e.style.filter=a.test(o)?o.replace(a,i):i)}if("transform"==t&&(t=f(Y)),ce.test(t))return!isNaN(i)&&i&&(0===t.indexOf("translate")?i+="px":0===t.indexOf("rotate")&&(i+="deg")),void(e.style[f(Y)]=t+"("+i+")");if("show"==i){if("none"!=n(e,"display"))return;z.show(e),i=n(e,t),r(e,te,"0s"),r(e,t,0),e.offsetWidth,r(e,te,"")}else"hide"==i&&(i=0,e.style[t]=n(e,t),e.offsetWidth);isNaN(i)||!i||I[t]||(i+="px");try{e.style[t]=i}catch(s){c(s)}}}function i(e,t){var n=t[z._idname],r="b$Event"+(n||"");return e[r]=e[r]||function(n){var r=e.call(t||this,z._fixe(n));return r!==!1&&r!==-1||n.preventDefault(),r===-1&&n.stopPropagation(),r}}function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function a(e){var t,n,r,i={};return e?($(e.split("\n"),function(e){r=e.indexOf(":"),t=A(e.substr(0,r).trim()),n=e.substr(r+1).trim(),t&&(i[t]?i[t]+=", "+n:i[t]=n)}),i):i}function s(t){var n=O(t)?t:e;return function(e){return n||(n=a(t)),e?n[A(e)]||null:n}}function u(e){if(null==e||t(e))return!1;var n=e.length;return!(1!==e.nodeType||!n)||(j(e)||C(e)||0===n||"number"==typeof n&&n>0&&n-1 in e)}function c(e){if("undefined"!=typeof console&&x(console.error)){if(!/firefox/i.test(S)&&e instanceof Error)if(e.stack){var t=e.stack;e=e.message&&t.indexOf(e.message)===-1?"Error: "+e.message+"\n"+t:t}else e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line);console.error(e)}}function l(e){return A(e.replace(/^ms([A-Z])/,"-ms-$1").replace(/(^|[a-z])([A-Z])/g,"$1-$2"))}function f(e){return e.replace(/-([a-z])/g,function(e,t){return k(t)}).replace(/^Ms([A-Z])/,"ms$1")}function d(e){return"opacity"==e||ce.test(e)||x(K.style[e])}function p(e){var t=z._nodeId(e);return p[t]||(p[t]={$on:m.on,$off:m.off,$emit:m.emit,$msg:{}})}function h(){if(!ge){var e=document.body;if(!e)return void setTimeout(h,13);if(m.needPolyfill)return;ge=!0,ye.resolve()}}if(!this.bowlder){Object.create||(Object.create=function(e){var t=function(){};return t.prototype=e,new t});var m=this.bowlder=function(e,n){return e&&x(e)?j(e)?new ve(/^\s*</.test(e)?z.create(e).childNodes:R.cssQuery(e,n)):C(e)||x(e.nodeType)||t(e)?new ve(e):(N(e)&&m.ready(e),e):new ve([])};this.$$||(this.$$=m),m.ver="0.9",m.cb={counter:0};var v="object"==typeof performance?performance.timing.connectStart:+new Date,g={connectStart:v},y={};m.bench={mark:function(e){var t=+new Date;if(e){y[e]||(y[e]=he.defer());var n={duration:t-g.connectStart,interval:t-v,stamp:t};setTimeout(function(){n.lag=(+new Date-t)/100,y[e].resolve(ue(n,g),!0)},100)}return v=t,y[e]},get:function(e){return e?(y[e]||(y[e]=he.defer()),y[e].promise):m.ready().then(function(){return m.ready(m.rootWidget.find())}).then(function(){var e={};return $(y,function(t,n){e[n]=t.promise}),he.all(e)})}};var b=0,w=Object.prototype.toString,_=[].slice;Function.prototype.bind&&"function"==typeof m.bind(this)||(Function.prototype.bind=function(){if(!arguments.length)return this;var e=this,t=_.call(arguments),n=t.shift();return function(){return e.apply(n,t.concat(_.call(arguments)))}});var $=m.each=function(e,t,n){var r,i=typeof e;if(e)if("string"==i&&(e=R.incArray(e)),"function"==i)for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r);else if(u(e))for(r=0;r<e.length;r++)x(e[r])&&t.call(n,e[r],r);else if("object"==i)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e},x=m.isDefined=function(e){return"undefined"!=typeof e},O=m.isObject=function(e){return null!=e&&"[object Object]"===w.call(e)&&!x(e.nodeType)},T=m.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},N=m.isFunction=function(e){return"[object Function]"===w.call(e)},C=m.isArray=function(e){return"[object Array]"===w.call(e)},j=m.isString=function(e){return"[object String]"===w.call(e)};$("File RegExp Boolean".split(/ /),function(e){m["is"+e]=function(t){return w.call(t)==="[object "+e+"]"}}),m.async=function(e){var t=he.defer(),n=e(),r=function(e){var i=n.next(e);if(i.done)t.resolve(i.value);else{var o=i.value;N(o)?o(r):(O(o)&&N(o.then)||(o=m.Promise.resolve(o)),o.then(r))}};return r(),t.promise};var I={};$("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom".split(/ /),function(e){I[e]=!0});var A=function(e){return j(e)?e.toLowerCase():e},k=function(e){return j(e)?e.toUpperCase():e},E={};$("selected checked disabled readOnly readonly required open autofocus controls autoplay compact loop defer multiple".split(" "),function(e){E[e]=1});var L={"class":function(e,t){"className"in e?e.className=t||"":e.setAttribute("class",t)},"for":function(e,t){"htmlFor"in e?e.htmlFor=t:e.setAttribute("for",t)},style:function(e,t){e.style?e.style.cssText=t:e.setAttribute("style",t)},value:function(e,t){e.value=null!=t?t:""}},S=A(navigator.userAgent),P=parseInt((/msie (\d+)/.exec(S)||[])[1],10);isNaN(P)&&(P=parseInt((/trident\/.*; rv:(\d+)/.exec(S)||[])[1],10));var D=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,30)},R=m.utils={msie:P,rAF:D,camelCase:f,cssQuery:function(e,t){if(m.needPolyfill)return void alert("polyfill's not ready.");if(t=t||document,!x(t.nodeType)&&t[0]&&(t=t[0]),!x(t.nodeType)||!j(e))return[];var n,r=t!=document;r?(e=e.replace(/(^\s*|,\s*)/g,"$1#__bowlder__ "),n=t.id,t.id="__bowlder__"):e=e.replace(/(^\s*|,\s*)>/g,"$1body>");var i=_.call(t.querySelectorAll(e));return r&&(n?t.id=n:t.removeAttribute("id")),i},incArray:function(e,t,n){var r=[],i="push";if(j(e)){var o=e.split(".."),a=o.length;e=parseInt(o[0],10),t=parseInt(o[a-1],10),n=Math.abs(3==a?parseInt(o[1],10):1)}if(!isNaN(n)&&n||(n=1),isNaN(e)||isNaN(t))return r;e>t&&(i=e,e=t,t=i,i="unshift");for(var s=e;s<=t;s+=n)r[i](s);return r}},M=/[;\s]+/,F={},U={},H={},q={},G=function(e,t){for(var n,r=e.target,i=this,o={},a=function(t,a){o[a]||(o[a]=R.cssQuery(a,i)),o[a].indexOf(r)>-1&&$(t,function(t){e.currentTarget=r,n!==!1&&(n=t.call(r,e))})};r&&r!=i;){if($(t,a),n===!1||n===-1){e.preventDefault(),n===-1&&e.stopPropagation();break}r=r.parentNode}},B={tfoot:"table",thead:"table",tbody:"table",tr:"tbody",th:"tr",td:"tr",option:"select"},z=m.dom={_fixe:function(e){var t=["clientX","clientY","pageX","pageY"];if(e.touches)switch(e.type){case"touchstart":$(t,function(t){e[t]=e.touches[0][t]});break;case"touchend":case"touchmove":$(t,function(t){e[t]=e.changedTouches[0][t]})}return e},_on:function(e,t,n,r){e.addEventListener(t,n,r||!1)},_off:function(e,t,n,r){e.removeEventListener(t,n,r||!1)},_idname:"_b$id",_nodeId:function(e){return e[z._idname]||(e[z._idname]=++b)},addClass:function(e,t){V.add(e,t)},toggleClass:function(e,t){V.toggle(e,t)},removeClass:function(e,t){V.remove(e,t)},hasClass:function(e,t){return V.contains(e,t)},hasRole:function(e,t){if(!e||!e.getAttribute||!t)return!1;var n=(e.getAttribute("ne-role")||"").split(/\s+/);return n.indexOf(t)>-1},parent:function(e,t,n){var r;if(t)for(var i=R.cssQuery(t);e.parentNode&&1==e.parentNode.nodeType;){if(e=e.parentNode,~i.indexOf(e)){r=e;break}if(!n)break}else r=e.parentNode;return r},delegate:function(e,t,n,r){if(O(n))$(n,function(n,r){z.delegate(e,t,r,n)});else if(N(n))z.bind(e,t,n);else if(j(n)){var o=z._nodeId(e),a=U[o]||(U[o]={});$(t.split(M),function(t){if(t){var o=a[t];if(!o){o=a[t]={};var s=i(function(t){G.call(e,t,o)},P<9?e:"");z._on(e,t,s)}if(o[n]){if(o[n].indexOf(r)>-1)return}else o[n]=[];o[n].push(r)}})}else N(r)&&z.bind(e,t,r)},undelegate:function(e,t,n,r){if(O(n))$(n,function(n,r){z.undelegate(e,t,r,n)});else if(j(n)){var i=z._nodeId(e),o=U[i]||(U[i]={});$(t.split(M),function(e){if(e){var t=o[e];if(t[n]){for(var i=0;i<t[n].length;i++)if(t[n][i]==r){t[n].splice(i,1);break}0===t[n].length&&delete t[n]}}})}else N(n)?z.unbind(e,t,n):N(r)&&z.unbind(e,t,r)},bind:function(e,t,n,r){if(N(n)){var o=z._nodeId(e);n=i(n,P<9?e:"");var a=F[o]||(F[o]={});$(t.split(M),function(t){if(t=j(t)&&t.split(".")[0]){if(a[t]){if(a[t].indexOf(n)>-1)return}else a[t]=[];if(a[t].push(n),z._on(e,t,n,r),H[t]){var i=q[o]||(q[o]={});i[t]||(i[t]=H[t].call(e,function(n,r){z.trigger(r||e,t,!!r,n)})||!0)}}})}},unbind:function(e,t,n,r){var o=e[z._idname];if(o&&j(t)){var a=F[o];a&&(n?(n=i(n,P<9?e:""),$(t.split(M),function(t){if(t=j(t)&&t.split(".")[0],t&&C(a[t])){z._off(e,t,n,r);for(var i=0;i<a[t].length;i++)a[t][i]==n&&a[t].splice(i--,1)}})):$(t.split(M),function(t){t=j(t)&&t.split(".")[0],t&&($(a[t],function(n){z._off(e,t,n,r)}),delete a[t])}))}},before:function(e,t){return j(e)&&(e=z.create(e)),t&&t.parentNode&&t.parentNode.insertBefore(e,t),e},after:function(e,t){if(j(e)&&(e=z.create(e)),t&&t.parentNode){var n=t.parentNode,r=t.nextSibling;r?n.insertBefore(e,r):n.appendChild(e)}return e},replace:function(e,t){return j(e)&&(e=z.create(e)),t&&t.parentNode&&t.parentNode.replaceChild(e,t),e},trigger:function(e,t,n,r){var i=document.createEvent("MouseEvents");i.initEvent(t,!x(n)||!!n,!1),O(r)&&m.extend(i,r),e.dispatchEvent(i)},show:function(e){e.style.display=e.olddisplay||"","none"==n(e,"display")&&(e.style.display="block")},hide:function(e){var t=e.olddisplay||n(e,"display");e.olddisplay="none"==t||"block"==t?"":t,e.style.display="none"},toggle:function(e){z["none"==z.css(e,"display")?"show":"hide"](e)},css:function(e,i,o){if(j(i)){var a=f(i);if(i.indexOf(":")>-1)e.style.cssText+=";"+i;else{if(!x(o)){if(d(a))o=n(e,a);else{if(/scroll/.test(i)&&(t(e)||9==e.nodeType))return document.body[i]||document.documentElement[i];9==e.nodeType&&(e=e.documentElement),o=e[a]}return x(o)?o:""}r(e,a,o)}}else if(O(i)){var s,u={};if($(i,function(t,n){return ce.test(n)?(!isNaN(t)&&t&&(0===n.indexOf("translate")||0===n.indexOf("persipective")?t+="px":0===n.indexOf("rotate")&&(t+="deg")),s=!0,void(u[n]=n+"("+t+")")):(n=f(n),void(d(n)?r(e,n,t):e[n]=t))}),s){var c,l=e.style[f(Y)];if(l)for(var p=/(\S+)\s*(\(.*?\))/g;null!=(c=p.exec(l));){var h=c[1];x(u[h])||(u[h]=h+c[2])}var m=[];$(u,function(e){m.push(e)}),e.style[f(Y)]=m.join(" ")}}},val:function(e,t){if("input"==A(e.tagName)){var n=A(e.getAttribute("type"));if("checkbox"==n)return z.attr(e,"checked",t);if("radio"==n)return x(t)?e.value=t:e.value}var r=m.widget(e);return r?r.val(t):x(t)?void(e.value=t):e.value},stop:function(e){e.startTime=0},pause:function(e){var t=e._pause;t&&(e._pause=null,t())},animate:function(t,n,r,i,o,a){if(t&&n){if(N(n))return n(t).play(r,i).then(o);N(r)&&(o=r,i=e,r=e),N(i)&&(o=i,i=e),r="number"==typeof r?r:fe.speeds[r]||fe.speeds.normal,a&&(a=parseFloat(a)/1e3);var s=m.conf("easeFns"),u=s[i]||s.linear;r>1&&z.pause(t);var c,p,h,v={},g={},y=new Date,b=!1,w=!1,_=!1;if(r===e&&(r=fe.speeds.normal),a===e&&(a=0),"string"==typeof n)_=!0,v[ie]=n,v[oe]=r/1e3+"s",v[se]=a+"s",v[ae]=i||"linear";else{var x=[];$(n,function(e,n){fe.off||r<=1||!d(f(n))||C(e)?(w=!0,g[n]=C(e)||r<=1?e:[z.css(t,n),e]):(_=!0,v[n]=e,ce.test(n)?h=!0:x.push(l(n)))}),_&&(h&&x.push(Y),v[ee]=x.join(", "),v[te]=r/1e3+"s",v[re]=a+"s",v[ne]=i||"linear")}var O=function(e){var n={};$(g,function(t,r){n[r]=de(t,u(e))}),z.css(t,n)},T=function(){b||(b=!0,fe.off||z.css(t,le),o&&o.call(t),t._pause=null)};if(r>=0&&r<=1)return void O(r);if(w){var j=function(){var e=new Date-y,t=e/r;e<r?(O(t),c||D(j)):(O(1),T())};j()}else p=setTimeout(function(){T()},r+10);_&&(t.clientLeft,z.css(t,v)),t._pause=function(){if(c=!0,!fe.off){var e=new Date-y,i=Math.min(e/r,1);z.css(t,le),z.animate(t,n,i)}p&&clearTimeout(p)}}},fadeToggle:function(e){return z["none"==e.style.display?"fadeIn":"fadeOut"].call(z,arguments)},fadeIn:function(e,t,i,o){if(!z.data(e,"_b$fadeIn")){z.data(e,"_b$fadeIn",1);var a=n(e,"opacity");N(t)&&(o=t,t=null),N(i)&&(o=i,i=null),z.animate(e,{opacity:"show"},t,i,function(){z.data(e,"_b$fadeIn",0),r(e,"opacity",a),N(o)&&o()})}},fadeOut:function(e,t,i,o){if(!z.data(e,"_b$fadeOut")){z.data(e,"_b$fadeOut",1);var a=n(e,"opacity");N(t)&&(o=t,t=null),N(i)&&(o=i,i=null),z.animate(e,{opacity:"hide"},t,i,function(){z.data(e,"_b$fadeOut",0),r(e,"opacity",a),z.hide(e),N(o)&&o()})}},slideToggle:function(e){z["none"==e.style.display?"slideDown":"slideUp"].call(z,arguments)},slideUp:function(e,t,n,r){if(!z.data(e,"_b$fadeUp")){z.data(e,"_b$fadeUp",1);var i={height:e.style.height,paddingTop:e.style.paddingTop,paddingBottom:e.style.paddingBottom},o={overflow:["hidden",e.style.overflow],height:"hide",paddingTop:0,paddingBottom:0};N(t)&&(r=t,t=null),N(n)&&(r=n,n=null),z.animate(e,o,t,n,function(){z.data(e,"_b$fadeUp",0),z.hide(e),z.css(e,i),N(r)&&r()})}},slideDown:function(e,t,r,i){if(!z.data(e,"_b$fadeDown")){z.data(e,"_b$fadeDown",1);var o={overflow:e.style.overflow,height:e.style.height,paddingTop:e.style.paddingTop,paddingBottom:e.style.paddingBottom},a={height:"show",paddingTop:n(e,"paddingTop"),paddingBottom:n(e,"paddingBottom")};N(t)&&(i=t,t=null),N(r)&&(i=r,r=null),z.css(e,{overflow:"hidden",paddingTop:0,paddingBottom:0}),z.animate(e,a,t,r,function(){z.data(e,"_b$fadeDown",0),z.css(e,o),N(i)&&i()})}},data:function(e,t,n){return e&&t===!1?void(e[z._idname]&&delete p[e[z._idname]]):x(t)?!x(n)&&j(t)?e&&p(e)[t]:e?O(t)?ue(p(e),t):p(e)[t]=n:void 0:e&&p(e)},attr:function(e,t,n){if(!e||!e.nodeType)return null;if(t=A(t),E[t]){if(!x(n))return!!e[t];j(n)&&"false"==n&&(n=!1),e[t]=!!n,n?e.setAttribute(t,t):e.removeAttribute(t)}else if(x(n))L[t]?L[t](e,n):e.setAttribute(t,n);else{if(!O(t))return e.getAttribute(t,2);$(t,function(t,n){z.attr(e,n,t)})}},_create:function(e,t){var n=document.createElement(e);return n.innerHTML=t,n},create:function(e,t){if(!t&&/^\w+$/.test(e))return document.createElement(e);var n;/<(\w+)/.test(e)?n=z._create(B[A(RegExp.$1)]||"div",e):(n=K,n.innerHTML=e);for(var r=document.createDocumentFragment(),i=n.firstChild;i;)r.appendChild(i),i=n.firstChild;return r},remove:function(e){e.parentNode&&e.parentNode.removeChild(e)},pos:function(e,t){var n={left:0,top:0},r=document.body;if(e&&!e.nodeType&&(e=e[0]),!e||1!==e.nodeType)return n;if(n.left=e.offsetLeft,n.top=e.offsetTop,t!==!0)for(;e;){if("fixed"==z.css(e,"position")){var i=e.offsetParent||r;n.left+=i!=r?i.scrollLeft:i.scrollLeft||document.documentElement.scrollLeft,n.top+=i!=r?i.scrollTop:i.scrollTop||document.documentElement.scrollTop}if(e=e.offsetParent,!e||e==t)break;n.left+=e.offsetLeft,n.top+=e.offsetTop}return n}};if(P<=9){var W={tr:["<table><tbody><tr>","</tr></tbody></table>",3],tbody:["<table><tbody>","</tbody></table>",2],thead:["<table><thead>","</thead></table>",2],table:["<table>","</table>",1],select:["<select>","</select>",1]};z._create=function(e,t){var n=W[e],r=document.createElement(n?"div":e);if(r.innerHTML=(n?n[0]:"")+t+(n?n[1]:""),n)for(var i=0;i<n[2];i++)r=r.firstChild;return r}}var Q=/(.*?)([smhd])$/,J={s:1,m:60,h:3600,d:86400};m.cookie={get:function(e){for(var t=document.cookie.split(/;\s*/),n=0;n<t.length;n++){var r=t[n].split("=");if(e==r[0])try{return decodeURIComponent(r[1])}catch(i){return""}}return""},remove:function(e,t,n){document.cookie=e+"=1; path="+(n||"/")+(t?"; domain="+t:"")+";expires=Fri, 02-Jan-1970 00:00:00 GMT"},set:function(e,t,n,r,i,o,a){j(n)&&Q.test(n)&&(n=RegExp.$1,a=RegExp.$2),n=1e3*(parseFloat(n)||365)*(J[a]||J.d),document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+new Date(+new Date+n).toGMTString():"")+(r?"; domain="+r:"")+"; path="+(i||"/")+(o?"; secure":"")}},m.event=function(e,t){return t?void(H[e]=t):!!H[e]},m.param=function(e){var t=[];return $(e,function(e,n){null!=e&&(C(e)||(e=[e]),$(e,function(e){O(e)&&(e=JSON.stringify(e)),t.push(o(n)+"="+o(e))}))}),t.join("&")};var X=R.buildUrl=function(e,t){return t=m.param(t),e+(t?(e.indexOf("?")==-1?"?":"&")+t:"")},K=document.createElement("div"),V=m.classList=K.classList?{contains:function(e,t){return!(!e.classList||!e.classList.contains(t))},add:function(e,t){e.classList&&t&&$(t.toString().split(/\s+/),function(t){t&&e.classList.add(t)})},remove:function(e,t){e.classList&&t&&$(t.toString().split(/\s+/),function(t){t&&e.classList.remove(t)})}}:{check:function(e,t){return 1===e.nodeType&&"string"==typeof e.className&&"object"!=typeof t&&null!=t},contains:function(e,t){return this.check(e,t)&&new RegExp("\\b"+t+"\\b").test(e.className)},add:function(e,t){this.check(e,t)&&!this.contains(e,t)&&(e.className=e.className.replace(/\s*$/," "+t))},remove:function(e,t){this.check(e,t)&&this.contains(e,t)&&(e.className=e.className.replace(new RegExp("\\b"+t+"\\b\\s*","g"),""))}};V.batch=function(e,t,n){if(1==e.nodeType){var r,i=e.className.split(/\s+/);j(t)&&(t=t.split(/\s+/)),j(n)&&(n=n.split(/\s+/)),$(n,function(e){if(e)for(;(r=i.indexOf(e))>-1;)i.splice(r,1)}),$(t,function(e){e&&i.indexOf(e)==-1&&i.push(e)}),e.className=i.join(" ")}},V.toggle=function(e,t){this.contains(e,t)?this.remove(e,t):this.add(e,t)};var Z,Y,ee,te,ne,re,ie,oe,ae,se,ue=m.extend=function(){var e=1<=arguments.length?_.call(arguments,0):[],t=!1;"boolean"==typeof e[0]&&(t=e.shift());var n,r=e.shift();if(r&&"object"==typeof r)for(;e.length;)if(n=e.shift(),n&&n!==r){if(N(n.then)&&N(n["catch"]))return n.then(function(i){return e.unshift(N(n.success)?i.data:i),e.unshift(r),e.unshift(t),ue.apply(this,e)});$(n,function(e,n){t&&O(e)?ue(t,r.hasOwnProperty(n)?r[n]:r[n]={},e):r[n]=t&&C(e)?_.call(e,0):e})}return r},ce=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,le={},fe=function(e){return $(e,function(e){!x(Z)&&x(K.style[f(e+"transition-property")])&&(Z=e,R.supportCSS3=!0)}),Y=Z+"transform",le[ee=Z+"transition-property"]=le[te=Z+"transition-duration"]=le[re=Z+"transition-delay"]=le[ne=Z+"transition-timing-function"]=le[ie=Z+"animation-name"]=le[oe=Z+"animation-duration"]=le[se=Z+"animation-delay"]=le[ae=Z+"animation-timing-function"]="",{off:!R.supportCSS3,speeds:{normal:300,fast:200,slow:600},cssPrefix:Z}}(["","-webkit-","-o-","-ms-"]),de=R.interpolate=function(e,t){if(!C(e))return e;var n=e.length;if(0===t||1==t)return e[t*(n-1)];var r=Math.floor(t*(n-1)),i=Math.min(r+1,n-1),o=e[r],a=e[i];if(!/\d/.test(a.toString()))return o;t=t*(n-1)-r;var s=o.toString().match(/[\-\.\d]+/g)||[],u=0;return a.toString().replace(/[\-\.\d]+/g,function(e){var n=parseFloat(s[u++])||0,r=n*(1-t)+e*t;return Math.abs(e-n)>10?Math.round(r):r})},pe={};m.on=function(e,t,n){var r=this,i=O(e)?e:{},o=r.hasOwnProperty("$msg")?r.$msg:pe;return j(e)&&$(e.split(/\s+/),function(e){i[e]=t}),$(i,function(e,t){o[t]||(o[t]=[]),o[t].push(e),n&&o[t].cache&&e.apply(r,o[t].cache)}),r},m.once=function(e,t,n){return O(e)?$(e,function(e){N(e)&&(e.once=!0)}):N(t)&&(t.once=!0),m.on.call(this,e,t,n)},m.off=function(e,t){var n=this;if(O(e))return $(e,function(e,t){m.off.call(n,e,t)}),this;var r=this.hasOwnProperty("$msg")?this.$msg:pe;return r&&j(e)&&$(e.split(/\s+/),function(e){var n=r[e];if(n){if(!t)return void delete r[e];for(var i=0,o=n.length;i<o;i++)if(n[i]==t){n.splice(i,1);break}}}),this},m.emit=function(){var e=1<=arguments.length?_.call(arguments,0):[],t=e.shift();if(j(t)){var n,r=this,i=r.hasOwnProperty("$msg")?r.$msg:pe;i&&$(t.split(/\s+/),function(t){var o=i[t]||(i[t]=[]);o.cache=e;for(var a=0,s=o.length;a<s&&(n=o[a],n.once&&o.splice(a,1),n.apply(r,e)!==!1);a++);})}};var he=m.$q=m.q=function(){function t(e){return e&&N(e.then)?e:{then:function(t){var n=i();return n.resolve(t(e)),n.promise}}}function n(e){return e}function r(e){return o(e)}var i=function(){var a,s=[],u={resolve:function(n,r){if(s){var i=s;s=e,a=t(n),$(i,function(e){a.then(e[0],e[1],e[2])})}else r&&(a=t(n))},reject:function(e){u.resolve(o(e))},notify:function(e){s&&$(s,function(t){t[2](e)})},promise:{then:function(e,t,o){var u=i(),l=function(t){try{u.resolve((N(e)?e:n)(t))}catch(r){u.reject(r),c(r)}},f=function(e){try{u.resolve((N(t)?t:r)(e))}catch(n){u.reject(n),c(n)}},d=function(e){try{u.notify((N(o)?o:n)(e))}catch(t){c(t)}};return s?s.push([l,f,d]):a.then(l,f,d),u.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){return new me(function(n,r){t?n(e):r(e)})}function r(r,i){var o=null;try{o=(e||n)()}catch(a){return t(a,!1)}return o&&N(o.then)?o.then(function(){return t(r,i)},function(e){return t(e,!1)}):t(r,i)}return this.then(function(e){return r(e,!0)},function(e){return r(e,!1)})}}};return u},o=function(e){return{then:function(t,n){var o=i();try{o.resolve((N(n)?n:r)(e))}catch(a){o.reject(a)}return o.promise}}},a=function(e){var n=i(),r=0,o=C(e)?[]:{};return $(e,function(){r++}),$(e,function(e,i){t(e).then(function(e){o.hasOwnProperty(i)||(o[i]=e,--r||n.resolve(o))},function(e){o.hasOwnProperty(i)||n.reject(e)})}),0===r&&n.resolve(o),n.promise},s=function(e){var n=i(),r=0;return $(e,function(){r++}),$(e,function(e){t(e).then(function(e){n.resolve(e)},function(e){r--,0===r&&n.reject(e)})}),0===r&&n.resolve(),n.promise};return{defer:i,reject:o,all:a,race:s,ref:t,never:{then:function(){}}}}(),me=m.Promise=function(e){var t=he.defer();return N(e)&&e(t.resolve,t.reject),t.promise};me.all=he.all,me.race=he.race,me.reject=he.reject,me.resolve=function(e){var t=he.defer();return t.resolve(e),t.promise},m.ajax=function(){function e(t){function r(e,t,n){return N(n)?n(e,t):($(n,function(n){e=n(e,t)}),e)}function i(e){var t=ue(e,{data:r(e.data,e.headers,a.transformResponse)});return n(e.status)?t:he.reject(t)}function o(t,r,o){function a(){var n=e.pendingRequests.indexOf(t);n!==-1&&e.pendingRequests.splice(n,1)}var u=t.url;e.pendingRequests.push(t);var c,f=he.defer(),d=new me(function(e,i){function a(r,o,a){c&&clearTimeout(c),r=Math.max(r,0),(n(r)?e:i)({data:o,status:r,headers:s(a),config:t})}l.call(t.win,t.method,u,r,a,o,f.promise,t.responseType)});return d.then(a,a),d=d.then(i,i),d.abort=function(){f.resolve()},N(t.beforeSend)&&t.beforeSend(d,t)===!1&&d.abort(),t.timeout>0&&(c=setTimeout(d.abort,t.timeout)),d}var a={transformRequest:c.transformRequest,transformResponse:c.transformResponse},u=c.headers,d=ue({},u.common,u[A(t.method)],t.headers);ue(a,t),a.headers=d,a.method=k(a.method)||"GET",a.url=X(a.url,a.params);var p=function(e){d=e.headers;var t="";return f.indexOf(e.method)>-1&&O(e.data)?e.url=X(e.url,e.data):t=e.processData===!1?e.data:r(e.data,s(d),e.transformRequest),$(d,function(t,n){"content-type"===A(n)&&(x(e.data)&&d[n]||delete d[n])}),o(e,t,d)},h=p(a);return h.success=function(e){return h.then(function(t){e(t.data,t.status,t.headers,a)}),h},h.error=function(e){return h.then(null,function(t){e(t.data,t.status,t.headers,a)}),h},h}function n(e){return 200<=e&&e<300}function r(e){return P<=6?new this.ActiveXObject("Microsoft.XMLHTTP"):P<10&&"PATCH"===e?new this.XDomainRequest:new this.XMLHttpRequest}function i(e){function n(e,t,n){function r(e){t&&t(T(e)?e:200),o.onreadystatechange=o.onload=o.onerror=t=null;try{i.removeChild(o)}catch(n){}}var i=P<9?document.getElementsByTagName("head")[0]:document.body||document.head||document.getElementsByTagName("head")[0]||document.documentElement,o=document.createElement("script");P<9&&(o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&r()}),o.onload=r,o.onerror=function(){r(400)},o.charset=n&&n.charset||"utf-8",o.src=e,i.appendChild(o)}var i=-1;return function(o,a,s,u,c,l,f){function d(){h=i,m?m.abort():p(u,h)}function p(e,t,n,r){m=null,t=0===t?n?200:404:t,t=1223==t?204:t,e(t,n,r)}var h,m,v=t(this)?this:window;if("REQUIRE"==o)n(a,function(e){p(u,e||200)},c);else if("JSONP"==o){var g="_"+(e.counter++).toString(36),y=e[g]=function(e){y.datas||(y.datas=[]),y.datas.push(e)};if(/callback=(\w+)/.test(a)){var b=RegExp.$1;"CALLBACK"!=b&&(y=v[b]||(v[b]=e[g]))}n(a.replace("CALLBACK","bowlder.cb."+g),function(){var t=y.datas&&y.datas.shift();x(t)?p(u,200,t):p(u,h||-2),delete e[g]},c)}else{var w=a.indexOf("//")!=-1&&a.indexOf(location.host+"/")==-1;m=r.call(v,w?"PATCH":o),m.open(o,a,!0),$(c,function(e,t){"withCredentials"==t?m.withCredentials=e:x(e)&&m.setRequestHeader&&m.setRequestHeader(t,e)}),P<10&&w?(m.onload=function(){p(u,200,h!==i?m.response||m.responseText:null,null)},m.onerror=function(){p(u,m.status||i,m.error,null)}):m.onreadystatechange=function(){if(m&&4==m.readyState){var e=null,t=null;h!==i&&(t=m.response||m.responseText,m.getAllResponseHeaders&&(e=m.getAllResponseHeaders())),p(u,h||m.status,t,e)}},f&&(m.responseType=f),m.send(s||null)}l.then(d)}}var o=/^\s*(\[|\{[^\{])/,a=/[\}\]]\s*$/,u={"Content-Type":"application/json;charset=utf-8"},c=e.defaults={transformResponse:[function(e){return j(e)&&o.test(e)&&a.test(e)&&(e=JSON.parse(e,!0)),e}],transformRequest:[function(e){return!C(e)&&!O(e)||m.isFile(e)?e:JSON.stringify(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ue({},u),put:ue({},u),patch:ue({},u)}},l=i(m.cb),f=["GET","REQUIRE","JSONP"];return e.pendingRequests=[],$(["get","delete","head","jsonp","require"],function(t){e[t]=function(n,r){return e(ue(O(r)?r:j(r)?{headers:{charset:r}}:{},{win:this,method:t,url:n}))}}),$(["post","put"],function(t){e[t]=function(n,r,i){return e(ue(O(i)?i:{},{win:this,method:t,url:n,data:r}))}}),e}();var ve=function(e){e?1!==e.nodeType&&u(e)||(e=[e]):e=[];for(var t=this.length=e.length,n=0;n<t;n++)this[n]=e[n]};m.fn=ve.prototype={add:function(e){var t=this;return N(e.each)?e.each(function(){t.add(this)}):t[t.length++]=e,t},eq:function(e){return this.length<=1?this:new ve(this[e])},filter:function(e){var t=[];if(j(e)){var n=R.cssQuery(e);e=function(e){return~n.indexOf(e)}}return N(e)&&this.each(function(n){e(n)&&t.push(n)}),new ve(t)},each:function(e,t){for(var n=0,r=this.length;n<r;n++)e.call(t||this[n],this[n],n);return this},parent:function(e){var t=[];return this.each(function(){var n=z.parent(this,e);n&&t.indexOf(n)==-1&&t.push(n)}),m(t)},closest:function(e){var t=[];return e&&this.each(function(){var n=z.parent(this,e,!0);n&&t.indexOf(n)==-1&&t.push(n)}),m(t)},children:function(){var e=[];return this.each(function(){$(this.children,function(t){e.push(t)})}),m(e)},html:function(e){return x(e)?this.each(function(){this.innerHTML=e}):this[0]?this[0].innerHTML:""},text:function(e){var t=P<9?"innerText":"textContent";return x(e)?this.each(function(){this[t]=e}):this[0]?this[0][t]:""},hasClass:function(e){var t=!1;return this.each(function(){t=t||V.contains(this,e)}),t},append:function(e,t){var n=this;if(j(e))e=z.create(e);else if(u(e))return $(_.call(e),function(e){n.append(e,t)}),n;return this.each(function(){this.appendChild(t?e.cloneNode(!0):e)})},prepend:function(e,t){var n=this;if(j(e))e=z.create(e);else if(u(e))return $(_.call(e),function(e){n.prepend(e,t)}),n;return this.each(function(){this.insertBefore(t?e.cloneNode(!0):e,this.firstChild)})},appendTo:function(e){return j(e)?e=R.cssQuery(e)[0]:!e.nodeType&&e[0]&&(e=e[0]),e&&1===e.nodeType?this.each(function(){e.appendChild(this)}):this},prependTo:function(e){return j(e)?e=R.cssQuery(e)[0]:!e.nodeType&&e[0]&&(e=e[0]),e&&1===e.nodeType?this.each(function(){e.insertBefore(this,e.firstChild)}):this},attr:function(e,t){return x(t)||O(e)?this.each(function(n){z.attr(n,e,t)}):this[0]&&z.attr(this[0],e)},removeAttr:function(e){return this.each(function(){this.removeAttribute(e)})},prop:function(e,t){return x(t)?this.each(function(){this[e]=t}):this[0]&&this[0][e]},data:function(e,t){return x(t)||O(e)?this.each(function(n){z.data(n,e,t)}):this[0]&&z.data(this[0],e)},removeData:function(e){return this.each(function(){var t=p(this);delete t[e]})},val:function(e){var t=this[0];return t?x(e)?$(this,function(t){z.val(t,e)}):z.val(t):null},css:function(e,t){var n=this[0];if(!n)return O(e)||x(t)?this:null;var r=z.css(n,e,t);if(x(r))return r;for(var i=1;i<this.length;i++)z.css(this[i],e,t);return this},find:function(e){var t=[];return $(this,function(n){$(R.cssQuery(e,n),function(e){t.indexOf(e)==-1&&t.push(e)})}),m(t)}},$(["on","off","emit"],function(e){m.fn["$"+e]=function(){var t=1<=arguments.length?_.call(arguments,0):[];return this.each(function(){var n=m.widget(this),r=z.plugin(this);n&&n[e].apply(n,t),r&&r.then(function(n){N(n["$"+e])&&n["$"+e].apply(n,t)})})}}),$(["addClass","removeClass","toggleClass","delegate","undelegate","bind","unbind","remove","show","hide","toggle","trigger","animate","stop","pause","fadeIn","fadeOut","fadeToggle","slideUp","slideDown","slideToggle"],function(e){m.fn[e]=function(){var t=1<=arguments.length?_.call(arguments,0):[];return this.each(function(){z[e].apply(z,[this].concat(t))})}}),$(["focus","blur","submit"],function(e){m.fn[e]=function(){return this.each(function(){this[e]()})}}),$(["width","height","scrollLeft","scrollTop"],function(e){m.fn[e]=function(t){var n=this.css(e,t);return x(t)||(n=parseInt(n,10)||0),n}}),$(["before","after"],function(e){m.fn[e]=function(t,n){return!t.nodeType&&t[0]&&(t=t[0]),1!==t.nodeType?this:(n?this.each(function(){z[e](t.cloneNode(!0),this)}):z[e](t,this[0]),this)},m.fn[f("insert-"+e)]=function(t){return!t.nodeType&&t[0]&&(t=t[0]),1!==t.nodeType?this:this.each(function(){z[e](this,t)})}}),m.fn.on=m.fn.delegate,m.fn.off=m.fn.undelegate;var ge,ye=he.defer();if(m.ready=function(e,t){var n=ye.promise;if(N(e))t=e;else{if(!C(e))return m.rootWidget.defer.promise;var r=[];$(e,function(e){r.push(e.ready())}),n=he.all(r)}return N(t)&&n.then(function(e){try{t.call(document,e)}catch(n){c(n)}}),n},P&&!this.addEventListener&&(m.needPolyfill=!0,document.write('<script src="http://img2.cache.netease.com/f2e/modules/polyfill.js"></script>')),"complete"===document.readyState)return void setTimeout(h);if(document.addEventListener)document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",h,!1);else if(document.attachEvent){var be=function(){"complete"==document.readyState&&h()};document.attachEvent("onreadystatechange",be),window.attachEvent("onload",be)}}}).call(this),function(e,t,n){function r(e){var t,n,r,i=e.progress||0,o=e.duration,a=+new Date,s=ce.defer(),u=Xe[e.ease]||Xe.linear,c=function(){n=u(Math.min((+new Date-a)/o,1)),!t&&n<1&&Z(c);var l;r=i*(1-n)+n,ue(e.step)&&(l=e.step(r,e.$el)),(ie(e.to)||ie(l))&&e.$el.animate(te(l||{},e.to),r),1==n&&s.resolve()};return c(),s.promise.pause=function(){t=!0,e.progress=r},s.promise}function i(t){this.$el=e(t),this.duration=300,this.progress=0,this.prefix="ne-anim"}function o(e){return"object"==typeof e&&e&&!e.alert?JSON.stringify(e):e}function a(e){return 1==e.nodeType&&""===e.innerHTML.replace(/<!--[\s\S]*?-->/g,"").replace(/^\s+/,"")}function s(e,t,n,r){if(1!==e.nodeType)return e;if(r&&(e=t(e),!e))return!1;for(var i,o=e.firstChild;o;){var a=o.nodeType,u=o.nextSibling;1==a&&t?(i=t(o),i&&("script"!=xe(i)&&s(i,t,n),u=i.nextSibling)):3==a&&n&&n(o),o=u}return e}function u(e){var t,n,r,i={},o=e.outerHTML;if(o)for(var a=0,s=/((\S+?)=(['"])(.*?)\3|[^>\s]+)\s*(\/?\s*>)?/g;t=s.exec(o);){if(n=t[2],r=t[4],!n){var u=t[1].split("=");n=u[0],r=u[1]||""}if(a++&&(i[n]=r.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")),t[5])break}else if(e.attributes)for(var c=0,l=e.attributes.length;c<l;c++){var f=e.attributes[c];i[f.name]=f.value}return i}function c(){var e=Object.create(Oe);return e.$msg={},e}function l(t,n,r){var i=[];if(n=n||t.getAttribute("ne-plugin"),ie(n)){var o=c(),a=n;oe(a.depInject.exportIdx)&&(a.depInject[a.depInject.exportIdx]=o),a.fn.apply(o,a.depInject),te(!0,T(o,t.getAttribute("ne-plugin-state")),r),o.init&&o.init(e(t)),i.push(ce.ref(o))}else ae(n)&&re(n.trim().split(J),function(n){if(n=g(n),/\.css$/i.test(n))Qe.createLink(n);else{var o=Qe.makeDefer(n).promise;i.push(o.then(function(n){var i=c();return oe(n.depInject.exportIdx)&&(n.depInject[n.depInject.exportIdx]=i),
n.fn.apply(i,n.depInject),te(!0,T(i,t.getAttribute("ne-plugin-state")),r),ue(i.init)&&i.init(e(t)),i}))}});return Y.data(t,"_b$pluginPromise",1==i.length?i[0]:ce.all(i))}function f(t,n,r){return e.isRegExp(n)?n.test(t):r?t===n:t.indexOf&&t.indexOf(n)>-1}function d(){var e=!0,t=1<=arguments.length?ne.call(arguments,0):[];return"boolean"==typeof t[0]&&(e=t.shift()),te.apply(this,[e,this].concat(t))}function p(e,t){var n=this.$parse(t),r=e.cache,i=o(n);e.inited&&i===r||(e.cache=i,e._value=n,e.inited=!0,e.fn&&e.fn(n,r))}function h(){}function m(e){return je.setAttribute("href",e),{href:je.href,host:je.host,pathname:"/"===je.pathname.charAt(0)?je.pathname:"/"+je.pathname}}function v(e,t){re(e,function(n,r){var i=[];re(n.split(J),function(e){e=e.indexOf("//")==-1?g(e,t):e,i.push(e),De[e]=t}),e[r]=i.join(";")})}function g(t,n){var r="";if(n&&0===n.indexOf("%")&&(n=""),/^([a-z]*\!)(\S+)/.test(t)&&(r=RegExp.$1,t=RegExp.$2),"%"==t.substr(0,1))return r+t;if(Je[t])t=Je[t];else for(var i in Je)if(/\/$/.test(i)&&0===t.indexOf(i)){t=t.replace(i,Je[i]);break}if("exports"==t||Qe._defers[t]||Be[t])return r+t;if(!/^(\/\/|http)/.test(t))if(0!==t.indexOf("/")){var o=n||Ie.pathname;for(/\/[^\/]+$/.test((n||Ie.href||"").replace(/[#\?].*/,""))&&(o=o.replace(Le,""));ke.test(t);)t=RegExp.$1,o=o.replace(Le,"");t=o+t}else if(ae(n)&&/(.*\/\/\S+?)\//.test(n)){var a=RegExp.$1;t=a+t}return ae(e.debug)&&!/cache.netease|163.com|126.net/.test(t)&&(t=t.replace(/https?:\/\/.*?\//,"/").replace(/^\//,e.debug+"/")),/\/\w+$/.test(t)&&(t+=".js"),r+y(t)}function y(e){for(var t=e.replace(/\/\.\//g,"/");(e=t.replace(Ae,"$1"))&&e!=t;)t=e;return t}function b(){this._readyDefer=ce.defer(),this._preparedDefer=ce.defer(),this._readyDefer.promise.then(function(e){e.isReady=!0})}function w(t,n,r){if(!e.debug&&/\bdebug=(\S+?)($|&|#)/.test(location.href)){var i=RegExp.$1;if("noCompile"==i)return;"strict"==i&&(H=!0),e.debug="http"!=i.substr(0,4)||i}var o=[];n||(n=Ve),t?!t["ne-wguid"]&&ae(t.getAttribute("ne-module"))?o.push(t):s(t,function(t){var n=t.getAttribute("ne-benchmark");return ae(n)&&(t.removeAttribute("ne-benchmark"),(e.widget(t)||e).ready(function(){e.bench.mark(n)})),ae(t.getAttribute("ne-module"))?(o.push(t),!1):t}):o.push(document.documentElement);var a=[];return re(o,function(t){var i;t["ne-wguid"]?(i=e.widget(t),w.inited||(i.compile(),i.$last&&i.$last.nextSibling&&i.wander())):i=_(t.getAttribute("ne-module")||"",t,n),a.push(i),r&&r.push(function(){i.destroy()})}),a}function _(t,n,r,i){if(!n||!n.nodeType)return null;n==document.documentElement||ae(n.getAttribute("ne-module"))||n.setAttribute("ne-module",""),t=t.replace(/^\s+|\s+$/g,"");var o=!1;if(/(.*)\*$/.test(t)&&(t=RegExp.$1,o=!0),t){if("@"==t.substr(0,1)&&r&&r.scope){var a=r.scope.$moduleid;t=a&&"%"!=a.substr(0,1)?a.replace(/[^\/]*?$/,"")+t.substr(1):t.substr(1)}t=g(t)}var s=b.create(n,o?Ve:r,t);return s.isolate=o,s.scope=s.isolate?new h:Object.create(r.scope),s.scope.$msg={},e.isObject(i)&&s.extend(i),l(n).then(function(){t?/\.html?$/.test(t)?(Qe.instantiate(null,s),x(t,s)):Qe.get(t).deploy(s,r):(Qe.instantiate(null,s),s.render())}),s}function $(t,n,r,i,o){var a=function(e){var n;return o.$event=e,e.currentTarget=o.$target=t,r&&i.update(function(){var t=Q(r,o,!0);t!==!1&&t!==-1||(e.preventDefault(),t===-1&&e.stopPropagation())}),n};if("change"==n){var s=e.widget(t);if(s)return s.watch("value",a),function(){s.unwatch("value",a)}}return t.getAttribute("ne-model")&&Y.unbind(t,n,i.update),Y.bind(t,n,a),function(){Y.unbind(t,n,a)}}function x(t,n){var r=n.$root[0],i=n.scope,o=ae(r.getAttribute("ne-transclude"));if((o||a(r))&&(n._empty=!0,o&&(r.transclude=r.innerHTML)),n._empty){var s=O(r),u=function(t){if(r.innerHTML=(ee<9?'<input style="display:none"/>':"")+$e.replace(t,{props:s,transclude:r.transclude||""},null,null,/props\.|transclude/),ee<9&&r.removeChild(r.firstChild),/<script/i.test(t)){var i=ce.ref();e("script",r).each(function(e){var t=B(e.getAttribute("type"));if(!t||"text/javascript"==t){var n=e.getAttribute("src");if(n)i=i.then(function(){return de.require(n)});else{var r=document.createElement("script");r.innerHTML=e.innerHTML,i=i.then(function(){return Y.replace(r,e)})}}})}n.render()};if(i.hasOwnProperty("html"))u(i.html);else{var c=s.skin;t=/\//.test(c)?g(c):t.replace(/(\.[^\.]*)?$/,(c?"."+c:"")+".html")+(ee?"?"+ +new Date:""),delete s.skin,We.load(V.buildUrl(t,s),r).then(u)}}else n.render()}function O(e){return He(e.getAttribute("ne-props"))}function T(e,t){return e.hasOwnProperty("state")||(e.state={}),He(t,e.state),e}function N(e,t,n){var r=se(n);re(n,function(t,n){r&&(ie(t)?(n=t.value,t=fe(t.label)?t.label:t.value):n=t);var i=new Option(t,n);e.options.add(i)})}function C(e){try{var t=Y.data("_b$selfcide");ue(t)&&t();var n=e["ne-destroy"];n&&(delete e["ne-destroy"],re(n,function(e){e()}),re(n.subnode,function(e){C(e)})),Y.data(e,!1)}catch(r){}}function j(e){var t=e&&e.length;return t&&re(e,function(e){e.parentNode||(t=!1)}),t}function I(e,t){var n=parseInt(e,10);return isNaN(n)?parseInt(Q(e,t),10):n}function A(e,t){var n=e.split(".."),r=n.length;if(1==n.length)return Q(e,t);var i=I(n[0],t),o=I(n[r-1],t),a=Math.abs(3==r?I(n[1],t):1);return V.incArray(i,o,a)}function k(e,t,n,r){if(ie(e))for(var i=0;i<t.length;i++)if(t[i].item===e&&r.indexOf(t[i].scope)==-1){if(t[i].string==n)return t[i];t.splice(i,1);break}return null}function E(e,t,n,r,i){ie(e)&&t.push({node:n,item:e,string:i,scope:r})}function L(e,t,n,r){for(var i=0;i<t.length;i++)if(t[i]&&t[i][n]===e&&r.indexOf(t[i])==-1)return t[i];return null}function S(e){this.widget=e,this.items=[],this.cursor=0}function P(e,t){var n=e.node,r=Y.val(n);if(fe(t)||(t=R(e.model,e.scope)),"input"!=B(n.tagName)||"radio"!=B(n.getAttribute("type"))||n.checked!==!1)return fe(r)&&(e.inited=!0,r!==t)?D(e.scope,e.model,r,e.array&&Y.attr(n,"value")):void 0}function D(e,t,n,r){var i,o=null,a=e;if(t.replace(Pe,function(e,t,n,r){return o&&(fe(a[o])||(a[o]={}),a=a[o]),o=t||r,i||(i=o),""}),ae(r)){se(a[o])||(a[o]=[]);var s=a[o].indexOf(r);n&&s==-1?a[o].push(r):n||s==-1||a[o].splice(s,1)}else a[o]=n;return i}function R(e,t){var n=null,r=t;return e.replace(Pe,function(e,t,i,o){return n&&(r[n]||(r[n]={}),r=r[n]),n=t||o,""}),r[n]}function M(e){var t=e.node,n=R(e.model,e.scope),r="input"==B(t.tagName)&&"radio"==B(t.getAttribute("type")),i=r?t.checked:Y.val(t);e.array&&(n=se(n)&&n.indexOf(Y.attr(t,"value"))!=-1),n!==i&&(!fe(n)&&e.inited&&(n=""),fe(n)&&(r?Y.attr(t,"checked",n===t.value):Y.val(t,n)),P(e,n))}function F(e){this.widget=e,this.scope=e.scope,this.items=[]}function U(e,t){var n=[],r=Qe._fns,i=[];ue(e)?(t=e,e=[]):e=e||[];for(var o=0;o<e.length;o++)/\.css$/i.test(e[o])?(Qe.createLink(e[o]),e.splice(o--,1)):e[o]?"!"==e[o].substr(0,1)&&(n.push(Qe.depPromise(e[o])),e.splice(o--,1)):e.splice(o--,1);return re(e,function(e,t){"exports"==e?i.exportIdx=t:r[e]||n.push(Qe.depPromise(e))}),ce.all(n).then(function(){return e&&re(e,function(e){i.push("exports"==e?null:Qe.getExport(e))}),ue(t)&&t.apply(this,i),i})}if(!e.expr){var H,q={},G=this,B=function(e){return ae(e)?e.toLowerCase():e},z=/(^|\s|[\(,;])([\w\.\[\]]+)\?(?=$|\s*[\),;])/g,W=function(e){return e.replace(z,"$1(typeof $2=='undefined'?null:$2)")},Q=e.expr=function(e,n,r,i){try{q[e]||(q[e]=t(W(e)))}catch(o){throw"invalid expression: "+W(e)+"\n"+o}try{i=q[e](n||window)}catch(o){if(r||H)throw o}return i},J=/\s*;\s*/,X=/(\\?)\{\!?\{(.+?)\}\}/,K=/[;\s]+/,V=e.utils,Z=V.rAF,Y=e.dom,ee=V.msie,te=e.extend,ne=[].slice,re=e.each,ie=e.isObject,oe=e.isNumber,ae=e.isString,se=e.isArray,ue=e.isFunction,ce=e.q,le=e.classList,fe=e.isDefined,de=e.ajax,pe=e.Promise,he=function(e,t){return null!=e?e:"!"==t.substr(1,1)?"":t},me={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},ve=function(e,t){if(se(e)){var n=e.indexOf(t);~n&&e.splice(n,1)}};e.throttle=function(e,t,n){if(!t)return e;var r,i,o,a=null,s=0,u=function(){s=n===!1?0:+new Date,a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var c=+new Date;s||n!==!1||(s=c);var l=t-(c-s);return r=this,i=arguments,l<=0||l>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(r,i),a||(r=i=null)):a||(a=setTimeout(u,l)),o}},e.debounce=function(e,t,n){if(!t)return e;var r,i,o,a,s,u=function(){var c=+new Date-a;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=+new Date;var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(o,i),o=i=null),s}};var ge={_map:{},add:function(e,t){var n=ge._map,r=n[e]||(n[e]=[]);t&&r.indexOf(t)==-1&&r.push(t)},remove:function(e,t){var n=ge._map,r=n[e];if(se(r))if(t){var i=r.indexOf(t);i!=-1&&r.splice(i,1)}else delete n[e]}},ye=function(e){return e?new pe(function(t){setTimeout(t,e)}):ce.ref()};e.fx=function(e){return e.start||(e.start=null),e.end||(e.end=null),function(t,n){return te(new i(t),e,n)}},e.fx.add=ge.add,e.fx.remove=ge.remove,e.fx.play=function(t){var n=[],r=ge._map[t];return r&&r.length?(re(r,function(e,t){var r=ue(e.delay)?e.delay(t):e.delay;n.push(ye(r).then(function(){return e.play()}))}),ce.all(n).then(function(){e.fx.play(t+".then")})):ce.ref()};var be={};e.fx.repeat=function(t,n,r){var i=[],o=ge._map[t];!o.length||oe(n)&&0===n--||(be[t]=+new Date,re(o,function(e,t){i.push(e.play())}),ce.all(i).then(function(){be[t]&&(!r&&+new Date-be[t]<25&&(r=25),ye(r).then(function(){e.fx.repeat(t,n,r)}))}))},re(["pause","stop"],function(t){e.fx[t]=function(e){delete be[e],re(ge._map[e],function(e){e[t]()})}}),e.fx.step=function(e,t){"number"!=typeof t?t=0:t<0?t=0:t>1&&(t=1),re(ge._map[e],function(e){var n;ue(e.step)&&(n=e.fix().step(t,e.$el)),(ie(n)||ie(e.to))&&e.$el.animate(te(n||{},e.to),t,e.ease),e.progress=t})},i.prototype={fix:function(){if(se(this.step)){var e=this.step,t=e.length,n=[];re(e,function(e){n.push(parseFloat(e.ratio)||1/t),delete e.ratio}),this.step=function(r){for(var i,o=0,a={},s=0;s<t;s++){o+=n[s],i=s==t-1||o>=r;var u=e[s],c=i?(r-o+n[s])/n[s]:1;if(re(u,function(e,t){a[t]=V.interpolate(e,c)}),i)return a}}}return this},play:function(e){this.fix().pause(),e=(e||this.duration)*(1-this.progress);var t=this,n=t.$el,i=ce.defer(),o=function(){t._endTimeout=t._updator=null,ue(t.end)&&t.end(n),ie(t.reset)&&n.css(t.reset),t.progress=0,i.resolve()};return ue(t.start)?(t.start(n),t._endTimeout=setTimeout(o,e+10)):!ue(t.step)&&ie(t.to)?t._updator=n.animate(t.to,e,t.ease,o):(ue(t.step)||ie(t.to))&&(t._updator=r(t),t._updator.then(o)),i.promise},repeat:function(e,t){var n=this;oe(e)&&0===e--||(n._repeating=+new Date,n.play().then(function(){n._repeating&&(!t&&+new Date-n._repeating<25&&(t=25),ye(t).then(function(){n.repeat(e,t)}))}))},pause:function(){var e=this._updator,t=this._endTimeout;e&&ue(e.pause)&&e.pause(),t&&clearTimeout(t),this._updator=this._endTimeout=this._repeating=null},stop:function(){this.pause(),this.progress=0},start:function(e){var t=this.prefix;e.removeClass(t+"-end"),e.addClass(t+"-init"),e[0].offsetWidth,e.addClass(t+"-ing")},end:function(e){var t=this.prefix;e.removeClass(t+"-ing"),e.addClass(t+"-end")}};var we=/\\|'|\r|\n|\t|\u2028|\u2029/g,_e=function(e){return"\\"+me[e]},$e=e.template={replace:function(e,t,n,r,i){function o(t){return e.replace(n||/\{\!?\{([^}]+)\}\}/g,function(e,n){if(i&&!i.test(e))return e;var o=Q(n,t,H);return null!=o?o:he(r,e)})}if(!fe(t))return e;se(t)||(t=[t]);var a=[];return re(t,function(e){a.push(o(e))}),a.join("")},parse:function(e,t){var n=0,r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\nwith(obj||{}){__p+='";e.replace(/<%=([\s\S]+?)%>|<%([\s\S]+?)%>|$/g,function(t,i,o,a){return r+=e.slice(n,a).replace(we,_e),i?r+=~i.indexOf("(")?"'+\n(typeof (__t="+i+") =='undefined'||__t==null?'':__t)+'":"'+\n(typeof ("+i+") =='undefined'||(__t=("+i+"))==null?'':__t)+'":o&&(r+="';\n"+o+"\n__p+='"),n=a+t.length,t}),r+="';\n}return __p;";var i=new Function("obj",r);return t?i(t):i}},xe=function(e){return e&&ae(e.tagName)?e.tagName.toLowerCase():""},Oe={$on:e.on,$off:e.off,$once:e.once,$emit:e.emit,$extend:d};Y.plugin=function(e,t,n){return ae(t)||ie(t)?l(e,t,n):Y.data(e,"_b$pluginPromise")},e.fn.plugin=function(t,n){var r=ce.defer(),i=this,o=[];return e.ready(function(){re(i,function(e){o.push(Y.plugin(e,t,n))}),ce.all(o).then(function(e){r.resolve(e)})}),r.promise};var Te={"ne-role":function(e,t,n){var r=this,i=r.__roles;re(n.split(/\s+/),function(e){e&&(i[e]||(i[e]=[]),i[e].push(t))})},"ne-model":function(e,t,n,r){var i=this,o=i.models,a=o.add(t,n.replace(/^\s*{{(.*?)}}\s*$/,"$1"),e);r.push(function(){o.remove(a)})},"ne-if":function(e,t,n,r){var i=this;if(Y.data(t,"_b$ifed",!0),ae(n)){if(n=n.replace(/^\s*{{(.*?)}}\s*$/,"$1"),"script"==xe(t))return Te["ne-repeat"].call(i,e,t,"",r,!0);var o=document.createTextNode(""),a=!0,s=!1;Y.after(o,t),se(t["ne-destroy"])&&t["ne-destroy"].push(function(){Y.remove(o)});var u=function(n){a&&!n?(Y.remove(t),a=!1):!a&&n&&(Y.before(t,o),a=!0),a&&!s&&(s=!0,i.$refresh2=!0,i.wander(t,e,!0),i.compile(t))};return r.push(i.views.add({fn:u,model:n,scope:e})),u(e.$parse(n)),o}},"ne-html":function(t,n,r,i){var o=this;if(r){var a=function(e,r){fe(e)||(e=""),ee<=9&&/tr|thead|tbody|tfoot/.test(xe(n))?(re(n.children,function(e){n.removeChild(e)}),n.appendChild(Y.create(e))):n.innerHTML=e,e&&~e.toString().indexOf("<")&&(o.wander(n,t),o.compile(n),o.$refresh2=!0)};i.push(o.views.add({fn:a,model:r,scope:t,debug:e.debug&&~r.indexOf("(")}))}},"ne-text":function(t,n,r,i){var o=this;if(r){var a=function(e,t){fe(e)||(e=""),n[ee<9?"innerText":"textContent"]=e};i.push(o.views.add({fn:a,model:r,scope:t,debug:e.debug&&~r.indexOf("(")}))}},"ne-state-extend":function(t,n,r,i){var o=this,a=o.scope;if(r){n.removeAttribute("ne-state-extend");var s=function(t,r){var i=e.widget(n);t&&i&&i.prepared(function(){te(!0,i.scope.state,t)})};a.$watch(r,s,t,!0),i&&i.push(function(){a.$unwatch(r,s,t)})}},"ne-on":function(t,n,r,i){var o,a=this,s=a.scope,u=e.widget(n);if(r&&u)for(;null!==(o=Se.exec(r));){var c=o[1],l=function(e){return function(){var t=Q(e,s,!0);ue(t)&&t.apply(s,arguments)}}(o[2]);u.on(c,l),i.push(function(){u.off(c,l)})}},"ne-extend":function(t,n,r,i){var o=this,a=o.scope;if(r&&/^\s*{{(.*?)}}\s*$/.test(r)){n.removeAttribute("ne-extend");var s=function(t,r){var i=e.widget(n);i&&i.extend(t)};a.$watch(r,s,t,!0),i&&i.push(function(){a.$unwatch(r,s,t)})}},"ne-options":function(e,t,n,r){var i=this,o=i.scope;if(t.removeAttribute("ne-options"),t.options){var a=t.options.length,s=function(e){for(;a<t.options.length;)t.remove(a);N(t,i,e)};o.$watch(n,s,e,!0),r&&r.push(function(){o.$unwatch(n,s,e)})}},"ne-foreach":function(e,t,n,r){var i=this;return t.removeAttribute("ne-foreach"),Te["ne-repeat"].call(i,e,t,n,r,!0)},"ne-recurse":function(e,t,n,r){if(e.hasOwnProperty("$recurse")){var i=e.$recurse;if(n&&n.indexOf(i.key+".")!=-1){var o=document.createTextNode("");Y.replace(o,t);var a=this,s={node:[o],type:"repeat",key:i.key,attr:i.attr,isJoin:i.isJoin,model:n,scope:e};return r.push(a.views.add(s)),r.subnode||(r.subnode=[]),o}}},"ne-repeat":function(e,t,n,r,i){var o=this,a="script"==xe(t);if(!i&&!n)return!1;var s,u=document.createTextNode("");if(se(t)){Y.before(u,t[0]);var c=document.createDocumentFragment();re(t,function(e){c.appendChild(e)}),t=c}else t.removeAttribute("ne-repeat");if(a){var l=$e.parse(t.innerHTML.trim());s=function(){var e="";try{e=l.apply(this,arguments)}catch(t){console.error(t)}return e}}else{if(i)throw"ne-foreach should be used in script.";Y.before(u,t);var f=document.createElement("div");f.appendChild(t),s=f.innerHTML.replace(/&amp;/g,"&"),Y.remove(t)}u.parentNode||Y.replace(u,t);var d={node:[u],attr:s,scope:e,isJoin:i,type:"repeat",destroys:r};if(a){var p=t.getAttribute("ne-if");ae(p)&&(d.cond=p.replace(/^\s*{{(.*?)}}\s*$/,"$1"))}/^\s*(\S+)\s+in\s+(.*)/.test(n)?te(d,{key:RegExp.$1,model:RegExp.$2}):d.model=n;var h=o.views.add(d);return r.push(h),Y.data(t,"_b$selfcide",function(){h(),re(d.node,function(e){re(e,Y.remove)})}),r.subnode||(r.subnode=[]),u},"ne-repeat-start":function(e,t,n,r){var i=this,o=!1,a=[t];for(t.removeAttribute("ne-repeat-start");t=t.nextSibling;)if(a.push(t),t.getAttribute&&ae(t.getAttribute("ne-repeat-end"))){t.removeAttribute("ne-repeat-end"),o=!0;break}return!o||Te["ne-repeat"].call(i,e,a,n,r)},"ne-fx":function(t,n,r,o){var a,s={};if(r){for(var u=e(n);null!==(a=Se.exec(r));){var c,l=a[2].trim();if(/^(\d+)(\S*)/.test(l))c=new i(n),c.duration=parseInt(RegExp.$1),RegExp.$2&&(c.prefix=RegExp.$2);else{var f=l.split("@"),d=parseInt(f[1]),p=t.$parse(f[0]);ie(p)&&(p=e.fx(p)),c=ue(p)&&p(u),oe(d)&&(c.duration=d)}c&&(s[a[1]]=c)}re(s,function(e,t){ge.add(t,e)}),o.push(function(){re(s,function(e,t){ge.remove(t,e)})})}}},Ne={};e.directive=function(e,t,n){return!ue(t)&&ue(n)&&(t=function(e,t,r){return e.$view(r,n.bind(e,t))}),e&&ue(t)?void(Ne[e]=t):Ne[e]},e.map=function(e,t,n){if(!e)return e;var r=se(e)?[]:{};return re(e,function(e,i){r[i]=ue(t)?t.call(n,e,i,r):e}),r};var Ce=e.any=function(e,t){return!re(e,function(e){return!t(e)},!0)};e.all=function(e,t){return re(e,function(e){return t(e)},!0)};e.filter=function(t,n,r){if(!t)return t;var i=se(t),o=i?[]:{};return re(t,function(t,a){if(ue(n)){if(!n.call(r,t,a,o))return}else if(n){var s=!1;if(ae(t)?s=f(t,n):ie(t)&&(s=ie(n)?e.all(n,function(e,n){return e===t[n]}):Ce(t,function(e){return f(e,n)})),!s)return}i?o.push(t):o[a]=t}),o},h.prototype=te(Object.create(Oe),{$reverse:function(e){return te([],e).reverse()},$sort:function(e,t,n){var r=ue(t)?t:function(e,r){var i=n?-1:1;return e[t]<r[t]?-i:i};return e.sort(r)},$filter:function(t,n){return se(t)&&n?e.filter(t,n):t},$watch:function(e,t,n,r){e=e.replace(/^\s*{{([^}]*?)}}\s*$/,"$1");var i=this.$widget?this.$widget.scope:this;if(i.hasOwnProperty("$$watches")||(i.$$watches=[]),se(this.$$watches)&&ue(t)){var o={fn:t,expr:e,scope:n||this};this.$$watches.push(o),r&&p.call(n,o,e)}},$unwatch:function(e,t,n){var r;for(e=e.replace(/^\s*{{([^}]*?)}}\s*$/,"$1"),r=0;r<this.$$watches.length;r++){var i=this.$$watches[r];i.expr!=e||i.scope!=n||t&&i.fn!=t||this.$$watches.splice(r--,1)}},$parse:function(e,t){return t=t||this,e.indexOf("{{")>-1?$e.replace(e,t,/{{([^}]+)}}/g,""):Q(e,t)},$cancel:function(){return!1},$refresh:function(e){var t=this,n=t.$widget;return t.hasOwnProperty("$refreshing")&&t.$refreshing?void(n.$refresh2=!0):(t.$refreshing=1,oe(e)?void setTimeout(function(){t.$refresh()},e):(t.hasOwnProperty("$$watches")&&re(t.$$watches,function(e){p.call(e.scope||t,e,e.expr)}),n.models&&n.models.items.length&&(n.views&&n.views.refresh("repeat"),n.models.refresh()),n.views&&n.views.refresh(),re(n.children,function(e){e.isReady&&e.refresh()}),t.$refreshing=0,void(n.$refresh2?(n.$refreshed=!0,n.$refresh2=!1,t.$refresh(),n.isReady&&n.updateRoles()):n.$refreshed&&(n.$refreshed=!1,n.emit("refreshed")))))}});var je=document.createElement("a"),Ie=m(window.location.href),Ae=/(^|\/)\w[^\/;,]*?\/\.\.\//,ke=/^\.\.\/(.*)/,Ee=/^\-?([1-9][0-9]*|0)(\.[0-9]+)?$/,Le=/[^\/]+?\/?$/,Se=/([^;\s]+?)\s*[=:]\s*([^;]*)/g,Pe=/(?:^|\.)(.+?)(?=\[|\.|$|\()|\[(['"]?)(.+?)\2\]/g,De={},Re={},Me=1;b.create=function(t,n,r){var i;if(t){var o=t.getAttribute("ne-id"),a=t[Y._idname];a&&Re[a]?i=Re[a]:o&&Re["#"+o]?i=Re["#"+o]:(i=new b,o&&(Re["#"+o]=i));var s="$$"+(r||t!=document.documentElement?Me++:0);t["ne-wguid"]=i.guid=s,Re[s]=i,i.$root=e(t),n&&(i.parent=n,n.children.push(i)),r&&(Re[r]||(Re[r]=[]),Re[r].push(i))}else i=new b,i.children=[],i.scope=e.rootScope,i.scope.$widget=i,i.views=new F(i),i.models=new S(i),i.update=e.rootScope.$update=i.models.update.bind(i.models);return i.__roles={},i.roles={},i.constructor=b,i},b.shortName=function(e){return e.replace(/.*\//,"").replace(/\..*/,"")};var Fe=/^(click|load|dblclick|contextmenu|key\w+|mouse\w+|touch\w+)/,Ue={};re(["submit","load","change","focus","blur","mouseenter","mouseleave"],function(e){Ue["ne-"+e]=1}),b.prototype={_assure:function(e){if(!this.isReady)throw"widget is not ready";return e.call(this)},lazy:function(e){this._lazyPromise=new pe(e)},load:function(e,t,n){var r=this;if(t&&ae(e)){if(t.nodeType){if(t.parentNode&&!a(t))throw"widget cannot be loaded on existed tree";return _(e,t,r,n)}if(t.length){var i=[];return re(t,function(t){i.push(_(e,t,r,n))}),i}}return null},val:function(e){return fe(e)?void this.set("value",e):this.scope&&this.scope.hasOwnProperty("value")?this.scope.value:n},get:function(e){return this._assure(function(){return this.scope[e]})},set:function(e,t){var n=1<=arguments.length?ne.call(arguments,0):[];return this.ready(function(){if(ae(e))this.scope[e]=t;else{var r=!0;"boolean"==typeof n[0]&&(r=n.shift()),te.apply(this,[r,this.scope].concat(n))}this.scope.$refresh()})},setState:function(){var e=1<=arguments.length?ne.call(arguments,0):[],t=!0;return"boolean"==typeof e[0]&&(t=e.shift()),this.ready(function(){te.apply(this,[t,this.scope.state].concat(e)),this.scope.$refresh()})},roleDelegate:function(e,t){var n=this;if(!n.$root)return n;var r=n.$root[0],i=n.__roleDelegate||(n.__roleDelegate={});return ie(t)?(ae(e)&&(e=e.trim().split(K)),re(e,function(e){if(!i[e]){i[e]=[];var o=function(t){for(var o=t.target,a=o,s=!0;a&&a!=r;)a.getAttribute("ne-module")&&(o=a.parentNode),a=a.parentNode;if(a){for(var u=[];o;){var c=(o.getAttribute("ne-role")||"").split(/\s+/);if(re(i[e],function(e){~c.indexOf(e.role)&&u.push({target:o,fn:e.fn})}),o==r)break;o=o.parentNode}u.length&&n.update(function(){for(var e,n=0;n<u.length;n++)if(e=u[n].fn.call(u[n].target,t),e===!1||e===-1){t.preventDefault(),e===-1&&t.stopPropagation();break}return e}),u=null}return s};n.$root.bind(e,o),n.ready(function(){r["ne-destroy"]&&r["ne-destroy"].push(function(){Y.unbind(r,e,o)})})}re(t,function(t,n){n&&i[e].push({role:n,fn:t})})}),n):n},updateRoles:function(t){var n=this;if(!n.$root)return n;var r=n.__rolecbs||(n.__rolecbs=[]);if(ue(t))return r.push(t),n;if(n.isReady){var i=n.__roles={},o=n.$root[0];s(o,function(e){var t=e.getAttribute("ne-role");return t&&re(t.split(/\s+/),function(t){t&&(i[t]||(i[t]=[]),i[t].push(e))}),(e==o||!ae(e.getAttribute("ne-module")))&&e});for(var a in n.roles)delete n.roles[a];for(var u in n.__roles)n.roles[u]=e(n.__roles[u])}return re(r,function(e){e(n.roles)}),n},compile:function(e,t){var n=this,r=n.$root&&n.$root[0];if(!t&&r&&(t=r["ne-destroy"]),e=e||r,!e||e.nodeType)return w(e,n,t);if(e.length){var i=[];return re(e,function(e){i=i.concat(w(e,n,t))}),i}return[]},prepared:function(e){var t=this._preparedDefer?this._preparedDefer.promise:ce.never;return ue(e)?(t.then(e.bind(this)),this):t},replaceWith:function(e,t,n){if(ae(e)){var r=this,i=r.parent,o=r.$root;r.destroy(n),_(e,o[0],i,t)}},destroy:function(e){var t=this,n=t.scope,r=t.$root[0];C(r),fe(e)&&!e||(r.innerHTML="");var i=n.$moduleid;ve(Re[i],t),ve(t.parent.children,t),n.$msg=null,n.hasOwnProperty("destroy")&&ue(n.destroy)&&n.destroy(t),re(t.children,function(t){t.destroy(e)}),re(t,function(e,n){delete t[n]})},ready:function(e){var t=this._readyDefer?this._readyDefer.promise:ce.never;return ue(e)?(t.then(e.bind(this)),this):t},extend:function(){var e=this,t=!0,n=1<=arguments.length?ne.call(arguments,0):[];return"boolean"==typeof n[0]&&(t=n.shift()),re(n,function(e,t){ae(e)&&(n[t]=Qe.getExport(e)||null)}),e.prepared(function(){te.apply(e,[t,e.scope].concat(n)),e.isReady&&e.refresh()}),e},find:function(t){if(!t){var n=[];return re(this.children,function(e){n.push(e),re(e.find(),function(e){n.push(e)})}),n}return e.widget(t,this)},isChildOf:function(e){for(var t=this.parent;t;){if(t==e)return!0;t=t.parent}return!1},render:function(){var e,t=this;if(t.$root){var n=t.$root[0],r=t.scope,i=[],o=[];t.children=[];var a=n.getAttribute("ne-extend")||"";if(!/^\s*{{(.*?)}}\s*$/.test(a)){var s=a.split(J);re(s,function(e){e&&(e=g(e),o.push(e),i.push(Qe.makeDefer(e).promise))})}ce.all(i).then(function(){i.length&&re(o,function(e){te(!0,r,Qe.getExport(e))});var a=function(){e||(e=!0,setTimeout(function(){t.scope&&(r.hasOwnProperty("init")&&ue(r.init)&&r.init(t),t.refresh(),t.updateRoles(),t._readyDefer.resolve(t))}))};(t._lazyPromise||ce.ref()).then(function(){t.wander(),t.compile(n),t.parent.ready(a),setTimeout(a,1e3)})})}},refresh:function(){return this.scope&&this.scope.$refresh(),this},wander:function(t,r,i,o){var a=this,c=!t&&a.parent&&"$$0"==a.parent.guid;if(c&&!fe(i)&&(i=!0),t=t||a.$root,t&&!t.nodeType&&(t=t[0]),!t)return a;var f=a.$root?a.$root[0]:t;r=r||a.scope;var d=a.views,p=["ne-recurse","ne-repeat-start","ne-repeat","ne-foreach","ne-options","ne-role","ne-model","ne-html","ne-text","ne-state-extend","ne-extend","ne-fx","ne-on"];se(t["ne-destroy"])?(t!=f||a.hasOwnProperty("find"))&&(re(t["ne-destroy"],function(e){e()}),t["ne-destroy"].splice(0)):t==f&&(t["ne-destroy"]=[]);for(var h,m=t;m.parentNode&&m!=f&&!m["ne-destroy"];)m=m.parentNode;var v=m["ne-destroy"];if(!v)return a;m==t?(re(Y.data(m,"_b$dlDestroy"),function(e){ue(e)&&e()}),h=Y.data(m,"_b$dlDestroy",{})):h=Y.data(m,"_b$dlDestroy")||Y.data(m,"_b$dlDestroy",{}),e("script[ne-macro]",t).each(function(e){var t=e.innerHTML,n=e.getAttribute("ne-macro"),i=[],o="";/(.*?)\s*\(\s*(.*?)\s*\)/.test(n)&&(n=RegExp.$1,i=RegExp.$2.split(/\s*,\s*/)),re(i,function(e,t){var n=e.split(/\s*=\s*/);n[1]&&(i[t]=n[0],o+="if("+n[0]+"==null)"+e+";")}),o&&(t="<%"+o+"%>"+t);var a=$e.parse(t);D(r,n,function(){var e=Object.create(this),t=arguments.length?ne.call(arguments,0):[],n=this.__scopes;re(i,function(n,r){n&&(e[n]=fe(t[r])?t[r]:null)});var r=!1,o=a(e).replace(/%(\w+)%/g,function(e,t){return~i.indexOf(t)?(r=!0,"__scopes["+n.length+"]."+t):e});return r&&(n[n.length]=e),o}),Y.remove(e)}),w.inited||(a.$last=!1);var g=0==arguments.length&&a.$last;s(t,function(t){var i,s=u(t);if("$$0"==a.guid&&ae(s["ne-module"])&&t!=f)return!1;if(g)return g==t&&(g=n),t;if(a.$last=!w.inited&&t,ae(s["ne-if"])&&!Y.data(t,"_b$ifed"))return Te["ne-if"].call(a,r,t,s["ne-if"],v);for(var c=function(e,n,i){var o=e.call(a,i||r,t,n,v);if(o===!1)return!1;if(ue(o))v.push(o);else if(o){if(t=o,1!=t.nodeType)return t;t.removeAttribute(b),s=u(t)}},m=0,y=p.length;m<y;m++){var b=p[m],_=s[b];if(ae(_)&&ue(Te[b])&&(i=c(Te[b],_,"ne-model"==b?o:""),fe(i)))return i}for(var x in s)if(!Te[x]){var O=s[x],T=x.substr(3);Ue[x]||e.event(T)?ae(O)&&v.push($(t,T,O,a,r)):Fe.test(T)?h[T]||(h[T]=1):/ne-(href|for|src|title|disabled|checked|selected|read[oO]nly|required)/.test(x)?(x=RegExp.$1,O&&(/{{.+?}}/.test(O)?v.push(d.add({node:t,model:O,attr:x,scope:r},!0)):Y.attr(t,x,O))):"ne-"==x.substr(0,3)&&ue(d[x])?(i=d[x](t,O,r),e.debug||t.removeAttribute(x),ue(i)&&v.push(i)):ue(Ne[x])?c(Ne[x],O):"ne-cloak"==x?t.removeAttribute(x):!Te[x]&&"ne-module"!=x&&/^{{.+?}}$/.test(O)&&v.push(d.add({node:t,model:O,attr:x,scope:r},!0))}return!ae(s["ne-module"])&&s["ne-plugin"]&&l(t,s["ne-plugin"]),(!ae(s["ne-module"])||t==f)&&t},function(e){a.$last=!w.inited&&e;var t=e.nodeValue;X.test(t)&&("\\"==RegExp.$1?e.nodeValue=t.replace(/\\(\{\!?\{.*?\}\})/g,"$1"):v.push(d.add({node:e,model:t,scope:r},!0)))},i),re(a.__roles,function(t,n){a.roles[n]=e(t)}),re(h,function(e,t){if(1===e){var n=function(e){for(var n=e.target,o=n,s=!0;o&&o!=m;)(o["ne-destroy"]||Y.data(o,"_b$dlDestroy"))&&(n=o["ne-wguid"]?o:o.parentNode),o=o.parentNode;if(o){for(var u=[];n;){var c=n.getAttribute("ne-"+t);if(c&&u.push({target:n,evt:c}),n==m)break;if(n=n.parentNode,!i&&r==a.scope&&n==m)break}u.length&&a.update(function(){r.$event=e;for(var t,n=0;n<u.length;n++)if(e.currentTarget=r.$target=u[n].target,t=Q(u[n].evt,r,!0),t===!1||t===-1)return e.preventDefault(),t===-1&&e.stopPropagation(),void(s=!1)}),u=null}return s};Y.bind(m,t,n),v.push(h[t]=function(){Y.unbind(m,t,n)})}})}},re(["on","off","emit","watch","unwatch"],function(e){b.prototype[e]=function(){var t=ne.call(arguments);return this["emit"!=e?"prepared":"ready"](function(){var n=this.scope;n&&n["$"+e].apply(n,t)})}});var He=V.getParams=function(e,t){if(ie(t)||(t={}),ae(e))for(var n,r,i,o,a;null!==(n=Se.exec(e));)o=n[1],a=n[2].trim(),"false"==a?a=!1:"true"==a?a=!0:Ee.test(a)&&(a=parseFloat(a)),r=null,i=t,o.trim().replace(Pe,function(e,t,n,o){return r&&(i[r]||(i[r]={}),i=i[r]),r=t||o,""}),i[r]=a;return t},qe={_replace:function(e,t){for(var n,r=0,i=[],o=function(e){se(e)?i[r]=e:(i[r]||(i[r]=[]),i[r].push(e))},a=e.pop(),s=a.parentNode,u=document.createElement("div"),c=document.createDocumentFragment(),l=[c],f=[],d=[];r<t.length;r++)if(t[r]){var p,h=se(t[r])?t[r].reserve:0;if(n&&h-n!=1&&(f.push(p),c=document.createDocumentFragment(),l.push(c)),n=h,se(t[r]))re(t[r],function(e){h?(f.length||f.push(e),p=e):c.appendChild(e)}),o(t[r]),d.push(t[r]);else{var m=Y.create(t[r],!0);re(m.childNodes,o),c.appendChild(m)}}return r--,re(e,function(e){d.indexOf(e)==-1&&re(e,function(e){C(e),e.parentNode==s&&s.removeChild(e)})}),u=e=null,i.push(a),i.fragments=l,i.poles=f,i},repeat:function(e,t,n){var r,i,o,a=e.attr,s=e.key,u=ue(a),c=e.isJoin,l=e.scope||t.scope,f=e.model,d=[],p=!ae(e.cond)||Q(e.cond,l);if(l.__scopes=[],f){o=p?A(f,l):[],se(o)||(o=null!=o?[o]:[]),r=o.length;var h=!e.repeatScopes||e.arrLen!=r,m=s?null:e.repeatNoKeys||(e.repeatNoKeys=[]);if(e.arrLen=r,s&&!h){for(var v=0;v<r;v++){var g=e.repeatScopes[v];if((g?g[s]:null)!==(fe(o[v])?o[v]:null)){h=!0;break}}if(!u&&!h)return!1}var y=e.repeatScopes||[];if(e.repeatScopes=[],re(o,function(t,n){if(null!=t){var i=Object.create(l);i.__scopes=[],s?(i[s]=t,i.$recurse={key:s,attr:a,isJoin:c}):te(!0,i,ie(t)?t:{__val:t}),te(i,{__len:r,__i:n});var o=u?a(i):s?a:$e.replace(a,i);y[n]&&y[n].hasOwnProperty("b$html")&&o==y[n].b$html||(h=!0),e.repeatScopes[n]=i,d[n]=o}}),!h)return e.repeatScopes=y,s||re(o,function(t,n){te(e.repeatScopes[n],t)}),!1;var b=-1;re(o,function(t,n){if(null!=t){var i=d[n];if(!c){var o=s?null:k(t,m,i,e.repeatScopes),a=s?L(t,y,s,e.repeatScopes):o?o.scope:null,u=s?a&&a.hasOwnProperty("b$node")?a.b$node:null:o?o.node:null;a&&j(u)&&i==a.b$html&&(b==-1||b+1<=a.__i?(b=a.__i,u.reserve=n+1):u.reserve=!1,d.indexOf(u)==-1&&(d[n]=u,e.repeatScopes[n]=a,s||te(e.repeatScopes[n],t)))}te(e.repeatScopes[n],{__len:r,__i:n,b$html:i})}}),y=null}else{if(i=p?a(l):"",fe(e._value)&&i==e._value)return!1;e._value=i,d.push(i)}if(c&&(d=[d.join("")]),e.node=this._replace(e.node,d),r||!f){var w=n&&n.subnode;w&&w.splice(0),re(e.node,function(n,r){if(n&&n.length){t.$refresh2=!0;var i;f&&!c&&(i=e.repeatScopes[r],i&&(s&&se(n)&&n.length?i.b$node=n:ae(d[r])&&E(o[r],m,n,i,d[r]))),re(n,function(e){if(!e["ne-destroy"]){if(3==e.nodeType){var n=e.nodeValue;X.test(n)&&(e["ne-destroy"]=[t.views.add({node:e,model:n,scope:i})])}else{if(1!=e.nodeType)return;var a=e["ne-destroy"]=[];t.wander(e,i,!0,!s&&o&&ie(o[r])?o[r]:null),Y.data(e,"_b$ifed")||t.compile(e,a)}w&&w.push(e)}})}})}var _=e.node.fragments,$=e.node.poles;return re(_,function(t,n){t.childNodes.length&&Y[0==n?"before":"after"](t,$[n]||e.node[e.node.length-1])}),e.node.frags=e.node.poles=null,!1}};S.prototype={add:function(t,n,r){var i=this.widget;r=r||i.scope,n=n.trim();var o={node:t,scope:r};"*"==n.substr(-1)&&(o.array=!0,n=n.substr(0,n.length-1)),o.model=n,this.items.push(o);var a=e.widget(t),s=i.$root[0];if(a)a.watch("value",i.update),s["ne-destroy"].push(function(){a.unwatch("value",i.update)});else{var u="change";/input|textarea/.test(B(t.tagName))&&(u+=" input"),Y.bind(t,u,i.update),s["ne-destroy"].push(function(){Y.unbind(t,u,i.update)})}return o},remove:function(e){for(var t=0,n=this.items.length;t<n;t++)if(this.items[t]==e){this.items.splice(t,1);break}},update:function(e,t){var n=this,r=n.widget,i=r.scope,o=r;return i&&i.$refreshing?void setTimeout(function(){n.update(e,t)},50):(re(n.items,function(e){var t=P(e);if(t)for(;o.parent&&fe(o.scope[t])&&!o.scope.hasOwnProperty(t);)o=o.parent}),re(r.children,function(e){e.update&&e.update(null,!1)}),ue(e)&&(t=e.apply(r.scope)),void(t&&ue(t.then)?t.then(function(){o.refresh()}):t!==!1&&o.refresh()))},refresh:function(){re(this.items,M)}},F.prototype={add:function(e,t){var n=this.items;return e&&ae(e.model)&&(e.model=e.model.replace(/^\s*{{([^}]*?)}}\s*$/,"$1")),n.push(e),t&&this.refresh(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}},"ne-show":function(e,t,n){var r=function(t){Y[t?"show":"hide"](e)};return this.widget.views.add({fn:r,model:t,scope:n})},"ne-hide":function(e,t,n){
var r=function(t){Y[t?"hide":"show"](e)};return this.widget.views.add({fn:r,model:t,scope:n})},"ne-visible":function(e,t,n){var r=function(t){e.style.visibility=t?"visible":"hidden"};return this.widget.views.add({fn:r,model:t,scope:n},!0)},"ne-hidden":function(e,t,n){var r=function(t){e.style.visibility=t?"hidden":"visible"};return this.widget.views.add({fn:r,model:t,scope:n},!0)},"ne-value":function(e,t,n){var r=function(t){Y.val(e,t)};return this.widget.views.add({fn:r,model:t,scope:n},!0)},"ne-class":function(e,t,n){var r=function(t,n){le.batch(e,t,n)};if(ae(t)&&t.trim()){var i=[];if(t=t.replace(/[\w\-]*{{.+?}}[\w\-]*/g,function(e){return i.push(e),""}),le.batch(e,t),t=i.join(" "))return this.widget.views.add({fn:r,model:t,scope:n})}},"ne-style":function(e,t,n){if(ae(t)){if(t=t.trim(),!t)return null;var r=function(t,n){e.style.cssText=e.style.cssText.replace(";"+n,"")+";"+t};if(/{{(.+?)}}/.test(t))return this.widget.views.add({fn:r,model:t,scope:n});Y.css(e,t)}},refresh:function(e){var t=this,n=t.scope;if(ae(e))for(var r=0;r<t.items.length;r++)t.items[r].type==e&&t.refresh(t.items[r]);else if(e){var i=e.type,a=e.node,s=t.widget;if(qe[i])qe[i](e,s,e.destroys);else{var u=e.scope||n,c=~e.model.indexOf("}}")?$e.replace(e.model,u):Q(e.model,u,e.debug),l=o(c);if(!e.inited||l!==e._valueStr){if(e.inited=!0,s.$refreshed=!0,ue(e.fn))e.fn(c,e._value);else if(a&&a.parentNode){var f=a.nodeType;3==f?a.nodeValue=c:1==f&&e.attr&&(c===e.model?a.removeAttribute(e.attr):Y.attr(a,e.attr,c))}e._value=c,e._valueStr=l}}}else for(var r=0;r<t.items.length;r++)t.refresh(t.items[r])}};var Ge=[],Be={};e.define=function(t,n,r){ae(t)||(r=n,n=t,t=null),se(n)&&r||(r=n,n=[]);var i={fn:r,deps:n};return t?ae(i.fn)||Qe._defers[t]?Qe.postDefine(t,i):Be[t]=i:(Ge.push(i),e.define.amd=!1),i},e.define.amd={jQuery:!0},this.define||(this.define=e.define);var ze=this.define.skin=function(e,t){return ie(e)?void re(e,function(e,t){ze(t,e)}):void(We.promises[g(e)]=ce.ref(t))},We={promises:{},load:function(t,n){var r=document.head||document.getElementsByTagName("head")[0]||document.documentElement,i=t.replace(/\?.*/,""),o=i.replace(/^https?:\/\/.*?\//,"/"),a=this.promises[t]||this.promises[o];return a||(a=this.promises[t]=de.get(t).then(function(n){var i=document.createElement("div"),o=n.data,a=t.replace(/[^\/]+$/,""),s=t.indexOf("//")==-1?"/":t.replace(/(\/\/.*?\/).*/,"$1");return o=o.replace(/(\s(href|src|ne-module|ne-extend|ne-plugin)=["'])@(\/)?/g,function(e,t,n,r){return t+(r?s:a)}),ae(e.debug)&&(o=o.replace(/(<link [^>]*?href=["'])\//,"$1"+e.debug+"/")),i.innerHTML=(ee<9?"<input />":"")+o,ee<9&&i.removeChild(i.firstChild),new pe(function(e){var t=0,n=Qe._loadedlink;re(V.cssQuery("link, style",i),function(i){if("link"==xe(i)){t++;var a=g(i.getAttribute("href")),s=function(){0===--t&&e(o)};n[a]?(Y.remove(i),i=n[a],setTimeout(s,100)):(n[a]=i,i.onload=i.onreadystatechange=function(){i.readyState&&"complete"!=i.readyState||(i.onload=i.onreadystatechange=null,setTimeout(s,50))},setTimeout(function(){i.onload&&i.onload()},2e3))}r.appendChild(i)}),o=i.innerHTML,i=null,0===t&&e(o)})})),a}},Qe={_fns:{},_exports:{},_loadedlink:{},_defers:{},_promises:{},makeDefer:function(e,t,n){var r=Qe._defers,i=e.split("@");e=i[0];var o=i[1]||"utf-8";if(r[e])return r[e];var a=r[e]=ce.defer(),s=a.promise;if(n||(s.deploy=function(e,t){var n=3<=arguments.length?ne.call(arguments,2):[];return s.then(function(r){ue(r.deploy)&&(e=r.deploy(e,t,n))}),e}),!t){var u=Qe._exports;u[e]?a.resolve(u[e]):Be[e]?(Qe.postDefine(e,Be[e]),delete Be[e]):"%"!=e.substr(0,1)&&de.require(e,{charset:o}).success(function(){Qe.postDefine(e,null,n)}).error(function(){throw Qe.postDefine(e,{fn:function(){}},n),e+" load error."+(De[e]?"\n  => "+De[e]:"")})}return a},get:function(e){if(!e)return ce.ref();e=g(e);var t=Qe.makeDefer(e);return t.promise},getExport:function(e){var t,n=Qe._exports,r=Qe._fns;e=e.replace(/(\w)\@.*/,"$1"),/^(plugin)\!(.*)/.test(e)&&(t=RegExp.$1,e=RegExp.$2),e=g(e),Be[e]&&(Qe.postDefine(e,Be[e]),delete Be[e]);var i=r[e];if("plugin"==t)return i;if(!n[e]&&i&&ue(i.fn)){var o=c();oe(i.depInject.exportIdx)&&(i.depInject[i.depInject.exportIdx]=o);var a=i.fn.apply(o,i.depInject);n[e]=fe(a)?a:o}return n[e]},createLink:function(e){var t=document.head||document.getElementsByTagName("head")[0]||document.documentElement,n=Qe._loadedlink[e];n||(n=Qe._loadedlink[e]=document.createElement("link"),n.href=e,n.rel="stylesheet"),t.appendChild(n)},depPromise:function(e,t){var n=this,r=n._promises,i=ce.ref();if(/^text\!/.test(e)){e=g(e,t);var o=e.replace(/.*\!/,""),a=n._exports;return a[e]?ce.ref(a[e]):(i=r[e],i||(i=r[e]=new pe(function(t){de.get(o).success(function(n){a[e]=n,t(n)})})),i)}var s="!"==e.substr(0,1);return re(e.split(J),function(e){i=i.then(function(){return n.makeDefer(g(e.replace(/.*\!/,""),t),!1,s).promise})}),i},postDefine:function(t,n,r){e.define.amd={jQuery:!0};var i=Qe._exports,o=G.module,a=Qe.makeDefer(t,!0);if(!a.def||n||Ge.length){var s=[];if(!r){if(n||(o&&o.exports?(n={fn:o.exports},delete o.exports):n=Ge.shift()),!n)throw"define not found for "+t;if(ae(n.fn))return void(i["text!"+t]=n.fn);if(!ue(n.fn))return i[t]=n.fn||{},void a.resolve(n)}(n&&n.deps?tt:ce.ref()).then(function(){r||(n.name=t,se(n.deps)&&v(n.deps,t),s.push(U(n.deps).then(function(e){n.depInject=e,n._deps=n.deps,delete n.deps,Qe._fns[t]=n})),n.deploy=function(e,t,r){return(e._lazyPromise||ce.ref()).then(function(){Qe.instantiate(n,e,r)}),e}),ce.all(s).then(function(){a.def=n,a.resolve(n,!0)})})}},instantiate:function(e,t,n){if(t._preparedDefer){var r=t.parent.scope,i=t.scope,o=t.models=new S(t);t.update=i.$update=o.update.bind(o),t.views=new F(t),i.$widget=t,i.$root=t.$root;var a=t.$root[0],s=function(){T(i,a.getAttribute("ne-state")),t._preparedDefer.resolve(t)};t.prepared(function(){var e=t.parent.$root&&t.parent.$root[0]["ne-destroy"];re(["ne-state-extend","ne-extend"],function(n){var i=a.getAttribute(n);i&&Te[n].call(t.parent,r,a,i,e)})}),e?(i.$moduleid=e.name,oe(e.depInject.exportIdx)&&(e.depInject[e.depInject.exportIdx]=i),e.fn.apply(i,e.depInject),s(),n&&(se(n)||(n=[n]),re(n,function(e){te(!0,i,e)})),x(e.name,t)):s()}}},Je={},Xe={linear:function(e){return e}},Ke={alias:Je,easeFns:Xe};Xe["ease-out"]=Xe.ease=function(e){return Math.sqrt(e)},Xe["ease-in"]=function(e){return e*e},e.conf=function(e){return ae(e)?Ke[e]:void te(!0,Ke,e)},e.run=function(t){return se(t)&&v(t),ae(t)?Qe.get(t).then(function(e){if(e&&e.fn){if(ue(e.fn)){var t=c();oe(e.depInject.exportIdx)&&(e.depInject[e.depInject.exportIdx]=t);var n=e.fn.apply(t,e.depInject);return n&&"object"==typeof n?n:t}return e.fn}return e}):U.apply(e,arguments)},e.defined=Qe.getExport,e.widget=function(e,t){if(ae(e)){var n=e.substr(0,1);"#"==n?Re[e]||(Re[e]=new b):e=g(e)}else if(e){if(e.getAttribute||(e=e[0]),!e||!e.getAttribute)return null;var r=e;if(e=r["ne-wguid"],!e&&ae(r.getAttribute("ne-module"))){var i=r.getAttribute("ne-id"),o=Y._nodeId(r),a=Re[o]=i&&Re["#"+i]||Re[o]||new b;return i&&(Re["#"+i]=a),a}}var s=Re[e]||null,u=[];return se(s)?(re(s,function(e){t&&!e.isChildOf(t)||u.push(e)}),u):t&&s&&!s.isChildOf(t)?null:s},e.rootScope=new h;var Ve=e.rootWidget=b.create();Ve._preparedDefer.resolve(Ve),Ve._readyDefer.resolve(Ve),Ve.defer=ce.defer();var Ze=document.body&&document.body.getAttribute("ne-alias");if(!Ze){var Ye=document.getElementsByTagName("script"),et=Ye[Ye.length-1];G.addEventListener||!et||et.getAttribute("ne-alias")||(et=Ye[Ye.length-2]),Ze=et&&et.getAttribute("ne-alias")}var tt=e.run(Ze).then(function(e){e&&te(!0,Je,e)});Ze&&(Ve.compile=function(){tt.then(w)}),(window.NTES||e).ready(function(){tt.then(function(){w(),w.inited=!0,Ve.defer.resolve()})}),define("require",function(){return e.defined})}}.call(this,this.bowlder,function(e){return new Function("obj","with(obj)return "+e)}),bowlder.define("/include/2015/alias.js",{jquery:"http://img1.cache.netease.com/f2e/libs/jquery.js",tabs:"/modules/tabs/tabs.js",scroller:"/modules/plugins/scroller.js",slide:"/modules/slide/slide.js",gesture:"/m/plugins/gesture.js",shares:"/modules/shares/shares.js",loginUtil:"/modules/ne2015/common-nav/utils/loginUtil.js"}),bowlder.run("/include/2015/alias.js").then(function(e){bowlder.conf({alias:e})}),bowlder.define("/modules/ne2015/common-nav/constants/loginConfig.js",[],function(){var e=(bowlder,{PATH:{WB_PATH:"http://t.163.com/service/newMessage/",DEFAULT_MAIL_PATH:"http://email.163.com#from=163nav_icon",LOG_IN_OUT_URL:"http://reg.163.com/Logout.jsp"},DOMAIN_API:{"126.com":"mail.126.com","yeah.net":"mail.yeah.net","163.com":"mail.163.com","188.com":"mail.188.com","vip.163.com":"vip.163.com","vip.126.com":"vip.126.com"},PRODUCTS:{reg:{name:"\u5e10\u53f7\u4e2d\u5fc3",url:"http://reg.163.com/Main.jsp?username=pInfo"},"163.com":{name:"\u6211\u7684\u90ae\u7bb1",url:"http://entry.mail.163.com/coremail/fcg/ntesdoor2?verifycookie=1&lightweight=1&df=163navi"},"126.com":{name:"\u6211\u7684\u90ae\u7bb1",url:"http://entry.mail.126.com/cgi/ntesdoor?verifycookie=1&lightweight=1&style=-1&df=163navi"},"vip.126.com":{name:"\u6211\u7684\u90ae\u7bb1",url:"http://reg.vip.126.com/enterMail.m"},"yeah.net":{name:"\u6211\u7684\u90ae\u7bb1",url:"http://entry.yeah.net/cgi/ntesdoor?verifycookie=1&lightweight=1&style=-1&def=163navi"},"188.com":{name:"\u6211\u7684\u90ae\u7bb1",url:"http://reg.mail.188.com/servlet/enter"},"vip.163.com":{name:"\u6211\u7684\u90ae\u7bb1",url:"http://reg.vip.163.com/enterMail.m?enterVip=true-----------"},lofter:{name:"\u6211\u7684LOFTER",url:"http://www.lofter.com/?act=qb163rk_20141031_02"},photo:{name:"\u6211\u7684\u76f8\u518c",url:"http://photo.163.com/?username=pInfo"},yuehui:{name:"\u6211\u7684\u540c\u57ce\u7ea6\u4f1a",url:"http://yuehui.163.com/"},blog:{name:"\u6211\u7684\u535a\u5ba2",url:"http://blog.163.com/passportIn.do?entry=163"},ht:{name:"\u6211\u7684\u82b1\u7530",url:"http://love.163.com?keyfrom=163site.mynavi"},note:{name:"\u6211\u7684\u4e91\u7b14\u8bb0",url:"http://note.youdao.com/web?entry=163.com"},caipiaoyys:{name:"\u6211\u7684\u5f69\u7968",url:"http://caipiao.163.com/#from=www_top_entry"},guijinshu:{name:"\u6211\u7684\u8d35\u91d1\u5c5e",url:"http://fa.163.com/?from=tgnwscj"},cx:{name:"\u6211\u7684\u8f66\u9669",url:"http://baoxian.163.com/car/?from=www_top_entry"},baoxian:{name:"\u6211\u7684\u4fdd\u9669",url:"http://baoxian.163.com/?from=www_top_entry"},shop:{name:"\u7f51\u6613\u5546\u57ce",url:"http://mall.163.com/#from=www_top_entry"},easyread:{name:"\u7f51\u6613\u4e91\u9605\u8bfb",url:"http://yuedu.163.com/#f=topnav"},yunketang:{name:"\u4e91\u8bfe\u5802",url:"http://study.163.com/?utm_source=163.com&utm_medium=web_ursproduct&utm_campaign=business"},kaola:{name:"\u6211\u7684\u8003\u62c9",url:"http://rd.da.netease.com/redirect?t=ZKQJgA&p=IQyfy3&proId=1024&target=http%3A%2F%2Fwww.kaola.com%2F%3Ftag%3Dbe3d8d027a530881037ef01d304eb505"}},DEFAULT_PRODUCTS:["lofter","photo","ht","yuehui","blog","note","caipiaoyys","guijinshu","cx","baoxian","shop","easyread","yunketang","kaola"],COOKIES:{huatian:"n_ht_s"},CHANNELS:{news:{name:"\u65b0\u95fb",url:"http://news.163.com/"},sports:{name:"\u4f53\u80b2",url:"http://sports.163.com/"},hotspur:{name:"\u4f53\u80b2",url:"http://sports.163.com/"},ent:{name:"\u5a31\u4e50",url:"http://ent.163.com/"},money:{name:"\u8d22\u7ecf",url:"http://money.163.com/"},biz:{name:"\u8d22\u7ecf",url:"http://money.163.com/"},auto:{name:"\u6c7d\u8f66",url:"http://auto.163.com/"},tech:{name:"\u79d1\u6280",url:"http://tech.163.com/"},digi:{name:"\u6570\u7801",url:"http://digi.163.com/"},mobile:{name:"\u624b\u673a",url:"http://mobile.163.com/"},lady:{name:"\u5973\u4eba",url:"http://lady.163.com/"},sense:{name:"\u5973\u4eba",url:"http://lady.163.com/"},astro:{name:"\u5973\u4eba",url:"http://lady.163.com/"},fushi:{name:"\u5973\u4eba",url:"http://lady.163.com/"},house:{name:"\u623f\u4ea7",url:"http://house.163.com/"},blog:{name:"\u535a\u5ba2",url:"http://blog.163.com/"},edu:{name:"\u6559\u80b2",url:"http://edu.163.com/"},kids:{name:"\u6559\u80b2",url:"http://edu.163.com/"},travel:{name:"\u65c5\u6e38",url:"http://travel.163.com/"},food:{name:"\u65c5\u6e38",url:"http://travel.163.com/"},fashion:{name:"\u65f6\u5c1a",url:"http://fashion.163.com/"},home:{name:"\u5bb6\u5c45",url:"http://home.163.com/"},baby:{name:"\u4eb2\u5b50",url:"http://baby.163.com/"},bbs:{name:"\u8bba\u575b",url:"http://bbs.163.com/"},art:{name:"\u827a\u672f",url:"http://fashion.163.com/art"},men:{name:"\u541b\u5b50",url:"http://men.163.com/"},war:{name:"\u519b\u4e8b",url:"http://war.163.com/"},discovery:{name:"\u63a2\u7d22",url:"http://discovery.163.com/"},gongyi:{name:"\u516c\u76ca",url:"http://gongyi.163.com/"},media:{name:"\u4f20\u5a92",url:"http://media.163.com/"},daxue:{name:"\u6821\u56ed",url:"http://daxue.163.com/"},video:{name:"\u89c6\u9891",url:"http://v.163.com/"},gov:{name:"\u653f\u52a1",url:"http://gov.163.com/"},game:{name:"\u6e38\u620f",url:"http://play.163.com/"},tie:{name:"\u8ddf\u8d34",url:"http://tie.163.com/"},foxue:{name:"\u4f5b\u5b66",url:"http://foxue.163.com/"},health:{name:"\u5065\u5eb7",url:"http://jiankang.163.com/"},shoucang:{name:"\u6536\u85cf",url:"http://shoucang.163.com/"},wine:{name:"\u9152\u9999",url:"http://jiu.163.com/"},jiu:{name:"\u9152\u9999",url:"http://jiu.163.com/"}}});return e}),bowlder.define("/modules/ne2015/common-nav/constants/productConfig.js",[],function(){var e=(bowlder,{LOFTER:{PATH:"http://www.lofter.com/entry?act=qb163sydl_20140917_01&from=163top",POPLIST:[{url:"http://www.lofter.com/entry?act=qb163sydl_20140917_03&from=163top",name:"\u8fdb\u5165LOFTER"},{url:"http://www.lofter.com/entry?act=qb163sydl_20140917_04&from=163top&target=http://www.lofter.com/activity",name:"\u70ed\u95e8\u8bdd\u9898"},{url:"http://www.lofter.com/selections?act=qb163sydl_20140917_05",name:"\u4e13\u9898\u7cbe\u9009"},{url:"http://www.lofter.com/entry?act=qb163sydl_20140917_06&from=163top&target=http://www.lofter.com/app",name:"\u4e0b\u8f7dLOFTER\u5ba2\u6237\u7aef"}]}});return e}),bowlder.define("/modules/ne2015/common-nav/constants/index.js",["loginConfig.js","productConfig.js"],function(e,t){var n=(bowlder,{LOGIN_CONFIG:e,PRODUCT_CONFIG:t});return n}),bowlder.define("/modules/ne2015/common-nav/utils/tools.js",[],function(){var e=bowlder,t={encode:function(e){var t={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};return e.replace(/[&"'<>]/g,function(e){return t[e]})},isElemHasShow:function(t){return"none"!==e(t).css("display")},mousenterSupport:function(){document.createElement("div");return!1},addHandler:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}};return t}),bowlder.define("/modules/ne2015/common-nav/utils/platformdetect.js",[],function(){var e=bowlder,t=this,n={platform:""},r=function(){if(navigator.platform.indexOf("Win")>-1)n.platform="ua-win";else if(navigator.platform.indexOf("Mac")>-1)n.platform="ua-mac";else{if(!(navigator.platform.indexOf("iPad")>-1||navigator.platform.indexOf("iPhone")>-1))return!1;n.platform="ua-ios"}};t.initialize=function(){r(),n.platform&&e("html").addClass(n.platform)}}),bowlder.define("/modules/ne2015/common-nav/core/urs.js",[],function(){var e=this,t=bowlder;window._$needUrsBgp=1,URS&&URS.setPkidAndPd({pkid:"MODXOXd",pd:"163",mode:2}),t.extend(e,{loadURS:function(t){var n={autoSuffix:1,needUrsBgp:1,skin:0,product:"163",promark:"MODXOXd",productkey:"5092c4b74f2a3fbfe2216e18ebe7ff8d",swidth:"190",hintTxt:"\u6309\u4f4f\u6ed1\u5757 \u62d6\u52a8\u5b8c\u6210\u62fc\u56fe",version:2,host:"www.163.com",includeBox:t||"js_N_login_wrap",isHttps:1,page:"login",placeholder:{account:"\u7f51\u6613\u90ae\u7bb1/\u5e38\u7528\u90ae\u7bb1",pwd:"\u8bf7\u8f93\u5165\u5bc6\u7801"},needUnLogin:1,defaultUnLogin:0,needPrepare:1,toolName:"\u81ea\u5b9a\u4e49\u626b\u7801App",toolUrl:"http://mail.163.com/dashi/?from=urs",notFastReg:0,single:1,cssDomain:"http://temp.163.com/special/00804C4H/",cssFiles:"urs_style.css?t=20170613",frameSize:{width:260,height:214},logincb:function(t){e.$emit("login.success",t)},regcb:function(){}},r=window.URS;new r(n)}})}),bowlder.define("/modules/ne2015/common-nav/core/loginBefore.js",["../constants/index.js","../core/urs.js","../utils/tools.js"],function(e,t,n){function r(e){if(g){for(var t=e.target||e.srcElement,n=f[0],r=l[0];t;){if(t==n||t==r)return;t=t.parentNode}j()}}function i(e){if(y){for(var t=e.target||e.srcElement,n=p[0],r=h[0];t;){if(t==n||t==r)return;t=t.parentNode}I()}}var o,a,s,u,c,l,f,d,p,h,m=bowlder,v=this,g=!1,y=!1,b=m(document.body),w=250,_=null,$=!1,x=!1,O="",T=function(){_&&(clearTimeout(_),_=null)},N=function(e){_=setTimeout(function(){e&&e()},w)},C=function(){$||(t.loadURS(),$=!0),f.css({display:"block"}),g=!0,c.addClass("ntes-nav-login-active").removeClass("ntes-nav-login-normal"),f.addClass("ue-animation")},j=function(){f.css({display:"none"}),g=!1,c.addClass("ntes-nav-login-normal").removeClass("ntes-nav-login-active"),f.removeClass("ue-animation"),O&&f.removeClass(O)},I=function(){p.hasClass("ntes-nav-quick-navigation-active")&&(p.removeClass("ntes-nav-quick-navigation-active"),h.hide())},A=function(){return n.isElemHasShow(f)?j():C(),!1},k=function(){T(),C()},E=function(){T(),N(function(){j()})},L=function(){T()},S=function(e){r(e),i(e)},P=function(e){document.body.scrollTop+document.documentElement.scrollTop>0?x||(c.addClass("ntes-nav-login-scroll"),d.addClass("ntes-nav-logined-scroll"),x=!0):x&&(c.removeClass("ntes-nav-login-scroll"),d.removeClass("ntes-nav-logined-scroll"),x=!1),g&&j(),y&&I()},D=function(){var e=0,t=0;return document.documentElement&&document.documentElement.clientHeight?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&document.body.clientHeight?(e=document.body.clientWidth,t=document.body.clientHeight):window.innerHeight&&(e=window.innerWidth,t=window.innerHeight),{w:e,h:t}},R={w1200:"ntes-nav-wrap-resize1200",w1024:"ntes-nav-wrap-resize1024"},M=function(){var e=D().w;e<1200?u.addClass(R.w1024):u.removeClass(R.w1024)};v.success=function(){j()},v.fail=function(e){},v.showPop=C,v.hidePop=j;var F=function(){p.hasClass("ntes-nav-quick-navigation-active")?(p.removeClass("ntes-nav-quick-navigation-active").addClass("ntes-nav-quick-navigation-unactive"),y=!1,h.hide()):(p.removeClass("ntes-nav-quick-navigation-unactive").addClass("ntes-nav-quick-navigation-active"),y=!0,h.show())};v.initialize=function(){o=n.mousenterSupport(),a=o?"mouseenter":"mouseover",s=o?"mouseleave":"mouseout",u=m(".ntes_nav_wrap"),c=m("#js_N_navHighlight"),d=m("#js_N_logined_warp"),l=m("#js_N_navHighlight .ntes-nav-login-title"),f=m("#js_N_navHighlight .ntes-nav-loginframe-pop"),g=n.isElemHasShow(f),l.bind("click",A),l.bind(a,k),l.bind(s,E),f.bind(a,L),p=m(".ntes-nav-quick-navigation-btn"),h=m(".ntes-quicknav-pop"),p.bind("click",F),p.addClass("ntes-nav-quick-navigation-init"),M(),b.bind("click",S),n.addHandler(window,"scroll",P),n.addHandler(window,"resize",M)}}),bowlder.define("/modules/ne2015/common-nav/data/userInfo.js",["../utils/tools.js"],function(e){var t=bowlder,n=this,r="",i="",o=r;n.getUserInfo=function(){r=t.cookie.get("P_INFO"),i=t.cookie.get("S_INFO");var e=r.split("|"),a=e[0]||"",s={userName:a.split("@")[0],userMail:a,userDomain:a?a.split("@")[1]:"",userIp:t.cookie.get("USERTRACK")||"",userLogined:!(!a||!i&&1!=e[2]),userProduct:e[7]||""};return r==o&&r||"null"===i||(o=r,n.$emit("userInfo.updated",s)),new t.Promise(function(e,t){e(s)})}}),bowlder.define("/modules/ne2015/common-nav/data/huatianInfo.js",["../constants/index.js"],function(e){var t=bowlder,n=this,r=e.LOGIN_CONFIG.COOKIES.huatian||"n_ht_s";n.getHuatianInfo=function(){var e=t.cookie.get(r),n=0;return e?n=parseInt(e)?1:0:Math.random()<=.5&&(t.cookie.set(r,1,1,"163.com","/"),n=1),new t.Promise(function(e,t){e(n)})}}),bowlder.define("/modules/ne2015/common-nav/data/lofterInfo.js",[],function(){var e=bowlder,t=this,n="";t.getLofterInfo=function(t){return n="http://www.lofter.com/newNotice.do?email="+t+"&from=163top&callback=lofterInfoCallback",new e.Promise(function(t,r){e.ajax.jsonp(n).success(function(e){t(e)})})}}),bowlder.define("/modules/ne2015/common-nav/data/mailInfo.js",["../constants/index.js"],function(e){var t=bowlder,n=this,r="http://msg.",i="/cgi/mc?funcid=getusrnewmsgcnt&product=index163&template=newmsgres_setcookie.htm&callback=fAccountCountCall&username=",o="",a="",s="",u=e.LOGIN_CONFIG.DOMAIN_API;n.getMailInfo=function(e,n,c){var l={newCount:0,totalCount:0,userName:""};return e&&(o=e),n&&(a=n),c&&(s=c),new t.Promise(function(e,n){var a=u[o];if(a){var c=r+a+i+s;t.ajax.require(c),window.fAccountCountCall=function(t,n,r){l={newCount:t,totalCount:n,userName:r},e(l)}}else e(l)})}}),bowlder.define("/modules/ne2015/common-nav/core/loginSuccess.js",["../data/userInfo.js","../data/huatianInfo.js","../data/lofterInfo.js","../data/mailInfo.js","../constants/index.js","../utils/tools.js"],function(e,t,n,r,i,o){function a(e){}function s(e){}function u(e){var t=_(e.newCount);w.mailMsgNum=t;var n=w.userInfo,r=n.userDomain,i=(n.userMail,n.userName),a=/&df=163navi/i,s=p[r]?p[r].url:h;s=s.replace(a,"&df=163nav_icon"),w.loginedOutUrl=m+"?username="+i+"&url="+o.encode(location.href),w.mailUrl=s}function c(e){}function l(e){for(var t=w.userInfo,n=e?~e.indexOf(",")?e.split(","):e.split("&"):[],r=0,i=n.length>v.length?v.length:n.length,a="",s=["reg"];r<i;r++)a=n[r],!!p[a]&&s.push(a);1===s.length&&(s=s.concat(v)),g[t.userDomain]&&s.splice(1,0,t.userDomain);var u=[];return f.each(s,function(e,n){var r=f.extend({},p[e]);r.url=r.url.replace(/pInfo/g,o.encode(t.userMail)),u.push(r)}),w.productSuggestList=u,w}var f=bowlder,d=this,p=i.LOGIN_CONFIG.PRODUCTS,h=i.LOGIN_CONFIG.PATH.DEFAULT_MAIL_PATH,m=i.LOGIN_CONFIG.PATH.LOG_IN_OUT_URL,v=(i.LOGIN_CONFIG.PATH.LOFTER_ICON_URL,i.LOGIN_CONFIG.DEFAULT_PRODUCTS),g=i.LOGIN_CONFIG.DOMAIN_API,y=i.PRODUCT_CONFIG.LOFTER.PATH,b=i.PRODUCT_CONFIG.LOFTER.POPLIST,w={userInfo:{},userName:"",userMail:"",loginedFlag:!1,loginedOutUrl:"",mailUrl:h,kaolaMsgNum:0,mailMsgNum:0,huatianMsgNum:0,lofterMsgNum:0,lofterUrl:y,lofterPopList:b,boboMsgNum:0,productSuggestList:[]},_=function(e){var e=parseInt(e);return e>99?e="99+":e<0&&(e=0),e};d.initialize=function(){return e.getUserInfo().then(function(e){if(e.userLogined){w.userInfo=e,w.userName=e.userName,w.userMail=e.userMail,w.loginedFlag=!0;var i=e.userMail,o=e.userDomain,d=e.userName,p=[],h=t.getHuatianInfo(),m=n.getLofterInfo(i),v=r.getMailInfo(o,d,i);return p.push(h,m,v),(f.q||f.$q).all(p).then(function(e){var t=e[0],n=e[1],r=e[2];return a(t),s(n),u(r),c(!0),l(),w})}return f.Promise.resolve(w)})}}),bowlder.define("/modules/ne2015/common-nav/utils/loginUtil.js",["../core/loginBefore.js","../core/urs.js","../data/userInfo.js"],function(e,t,n){function r(){return n.getUserInfo().then(function(e){i=e})}var i,o=bowlder,a=this,s=function(){e.initialize()};a.getUserInfo=function(){return r(),i},a.loginSuccess=function(e){t.$on("login.success",function(t){e&&o.isFunction(e)&&e()},!0)},a.checkLogin=function(){return r(),!!i.userLogined},a.logOut=function(){var e=a.checkLogin();if(e){var t=o("#js_N_navLogout");t.trigger("click")}},a.showLoginPop=function(t){var t=t||window.event;t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0),e.showPop()},a.hideLoginPop=function(){e.hidePop()},a.init=function(){s()}}),bowlder.define("/modules/ne2015/common-nav/common-nav.js",["constants/index.js","utils/tools.js","utils/platformdetect.js","core/loginBefore.js","core/urs.js","core/loginSuccess.js","utils/loginUtil.js"],function(e,t,n,r,i,o,a){function s(){o.initialize().then(function(e){$=b.extend($,e),y.$refresh&&y.$refresh()})}function u(){C||(_.suggestWrap.css({display:"block"}),setTimeout(function(){_.suggestWrap.css({display:""})},4e3))}function c(e){b(e).removeClass(O),b(p).removeClass(O)}function l(e){p&&b(p).removeClass(O),b(e).addClass(O),p=e}function f(){if($.channel){var e=m[$.channel];$=b.extend($,{channelName:e.name,channelUrl:e.url}),y.$refresh&&y.$refresh()}}var d,p,h=e.LOGIN_CONFIG.PATH.DEFAULT_MAIL_PATH,m=e.LOGIN_CONFIG.CHANNELS,v=e.PRODUCT_CONFIG.LOFTER.PATH,g=e.PRODUCT_CONFIG.LOFTER.POPLIST,y=this,b=bowlder,w=y.$widget,_=w.roles,$=y.state={userInfo:{},userName:"",loginedFlag:!1,loginedOutUrl:"",mailUrl:h,kaolaMsgNum:0,mailMsgNum:0,huantianMsgNum:0,lofterMsgNum:0,lofterUrl:v,lofterPopList:g,boboMsgNum:0,productSuggestList:[]},x=e.LOGIN_CONFIG.COOKIES.huatian||"n_ht_s",O="ntes-nav-select-unfold",T=t.mousenterSupport(),N=navigator.userAgent.toLowerCase(),C=/ipad/i.test(N);b.directive("ne-keydown",function(e,t,n){var r=function(t){e.$target=this,e.$update(function(){e.$parse(n)})};return b.dom.bind(t,"keydown",r),function(){b.dom.unbind(t,"keydown",r)}}),b.directive("ne-enter",function(e,t,n){var r=T?"mouseenter":"mouseover",i=function(t){e.$target=this,e.$update(function(){e.$parse(n)})};return b.dom.bind(t,r,i),function(){b.dom.unbind(t,r,i)}}),b.directive("ne-leave",function(e,t,n){var r=T?"mouseleave":"mouseout",i=function(t){e.$target=this,e.$update(function(){e.$parse(n)})};return b.dom.bind(t,r,i),function(){b.dom.unbind(t,r,i)}});var j=function(){r.initialize(),i.$on("login.success",function(e){s(),u()})};y.handleMsgClick=function(){b(this.$target).css({display:"none"}),this.$target===_.huatianMsgWrapper[0]&&b.cookie.set(x,0,1,"163.com","/")},y.handleFoldMenuClick=function(){if(!C){var e=this.$target;e.className.indexOf(O)!==-1?b(e).addClass(O):b(e).removeClass(O),c(e)}},y.handleMenuMouseEnter=function(){if(!C){var e=this.$target;clearTimeout(d),d=d&&p===e?void 0:setTimeout(function(){e.focus(),l(e),d=void 0},250)}},y.handleMenuMouseLeave=function(){if(!C){var e=this.$target;clearTimeout(d),d=d&&p===e?void 0:setTimeout(function(){e.blur(),c(e),d=void 0},100)}},y.handleMenuKeyDown=function(){if(!C){var e=this.$event.keyCode,t=this.$target;39===e||40===e?l(t):27!==e&&37!==e&&38!==e||c(t)}},y.init=function(e){f(),n.initialize(),j(),s()}});
