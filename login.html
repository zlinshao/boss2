<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="src/assets/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="src/assets/css/style.css">
    <link rel="stylesheet" href="src/assets/css/style-responsive.css">
    <style>
        @media screen and (max-width: 767px) {
            #login_container {
                display: none;
            }

            .login-wrap {
                min-height: 200px;
            }
        }
    </style>
    <script src="src/assets/js/jquery-3.2.0.js"></script>
    <script src="src/assets/bootstrap/js/bootstrap.js"></script>
    <script src="http://g.alicdn.com/dingding/dinglogin/0.0.2/ddLogin.js"></script>
    <title>Document</title>
</head>
<body>
<div class="container">
    <form class="form-signin" action="index.html">
        <h2 class="form-signin-heading">sign in now</h2>
        <div class="login-wrap">
            <div id="login">
                <!--<header>-->
                <!--<span v-if="state">扫码登陆</span>-->
                <!--<img v-if="state" src="./diannao.png" alt="pc">-->

                <!--<span >短信登陆</span>-->
                <!--<img src="./erweima.png" alt="iphone">-->
                <!--</header>-->

                <!--短信登陆-->
                <div class="login-wrap" v-if="!state">
                    <div class="form-group">
                        <div class="col-sm-7">
                            <input type="text" class="form-control" placeholder="手机号" autofocus>
                        </div>
                        <div class="col-sm-5">
                            <input type="button" class="form-control btn btn-default" value="获取验证码" @click="gain">
                        </div>
                    </div>
                    <div class="form-group col-xs-12">
                        <input type="text" class="form-control" placeholder="请输入验证码" v-if="code">
                        <button class="btn btn-lg btn-login btn-block" type="submit">登陆</button>
                    </div>
                </div>

                <!--扫码登陆-->
                <div class="login-wrap">
                    <div id="login_container"></div>
                </div>
            </div>
        </div>
        <!-- modal -->

    </form>

</div>


</body>
<script>
//    let obj = DDLogin({
//        id: "login_container",//这里需要你在自己的页面定义一个HTML标签并设置id，例如<div id="login_container"></div>或<span id="login_container"></span>
//        goto: encodeURIComponent("https://oapi.dingtalk.com/connect/oauth2/sns_authorize?appid=dingoa6pqll6sfxta66zjq&response_type=code&scope=snsapi_login&state=STATE&redirect_uri=http://test.v2.api.boss.lejias.cn/staff/fromqr"),
//        style: "",
//        href: "",
//        width: "300px",
//        height: "300px"
//    });
//    let hanndleMessage = function (event) {
//        let loginTmpCode = event.data; //拿到loginTmpCode后就可以在这里构造跳转链接进行跳转了
//        let origin = event.origin;
//        window.location.href = 'https://oapi.dingtalk.com/connect/oauth2/sns_authorize?appid=dingoa6pqll6sfxta66zjq&response_type=code&scope=snsapi_login&state=STATE&redirect_urihttp://test.v2.api.boss.lejias.cn/staff/fromqr&loginTmpCode=' + loginTmpCode;
//        console.log(event);
//    };
//    if (typeof window.addEventListener != 'undefined') {
//        window.addEventListener('message', hanndleMessage, false);
//    } else if (typeof window.attachEvent != 'undefined') {
//        window.attachEvent('onmessage', hanndleMessage);
//    }
</script>
</html>